{"version":3,"file":"main.js","mappings":"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,EAAEJ,SAAS,EAAE,IAAI,CAACQ,gBAAgB,CAAC;QACpG,IAAI,CAAChB,WAAW,CAACiB,IAAI,CAACJ,WAAW,CAAC;MACtC;IACJ,CAAC,EACD,CAAC8B,GAAmB,EAAED,UAAU,EAAEM,WAAW,EAAEJ,YAAY,KAAK;MAC5D,IAAIK,mBAAmB,GAAGN,GAAG,CAACO,cAAc,CAAC,cAAc,CAAC,GAAGP,GAAG,CAAC,cAAc,CAAC,GAAGC,YAAY;MACjG,IAAIP,SAAS,IAAI,IAAI,IAAIY,mBAAmB,IAAIA,mBAAmB,CAACE,MAAM,EACtEd,SAAS,CAACY,mBAAmB,CAACG,gBAAgB,CAAC,CAAC,KAC/C;QACD,IAAIvC,WAAW,GAAGC,gBAAgB,CAACuC,uBAAuB,CAACV,GAAG,EAAEvB,KAAK,EAAE,IAAI,CAACJ,gBAAgB,CAAC;QAC7F,IAAI,CAAChB,WAAW,CAACiB,IAAI,CAACJ,WAAW,CAAC;MACtC;IACJ,CACJ,CAAC;IACL,OAAOyB,OAAO;EAClB;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EA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","sources":["webpack://dashboard-code.adminka-v1.web.mvc-core-app/./src/index.js","webpack://dashboard-code.adminka-v1.web.mvc-core-app/./src/index.scss?2c1e","webpack://dashboard-code.adminka-v1.web.mvc-core-app/./src/site.js","webpack://dashboard-code.adminka-v1.web.mvc-core-app/./src/Application.js","webpack://dashboard-code.adminka-v1.web.mvc-core-app/./src/WorkflowManager.ts"],"sourcesContent":["import 'jquery'; // should be manually loaded first in order since '@dashboardcode/bsmultiselect' do not require it as dependency and can be loaded first // TODO create @dashboardcode/bsmultiselect.jQuery\r\nimport '@popperjs/core'; // do not use aliases for jquery and '@popperjs/core' since exact names are required by bootstrap and bsmultiselect\r\nimport 'bootstrap#umd'; // requires jquery and popper\r\nimport '@dashboardcode/bsmultiselect#umd'; // requires popper\r\n\r\n//import 'moment'; // loaded by expose-loader\r\n\r\nimport 'datatables.net-bs5'; // this will bring dataTabales.js\r\nimport 'datatables.net-select-bs5';\r\nimport 'datatables.net-buttons#buttons.colVis';\r\nimport 'datatables.net-buttons-bs5';\r\n\r\nimport 'daterangepicker';\r\nimport 'jquery-validation';\r\nimport 'jquery-validation-unobtrusive';\r\n\r\nimport 'jstree';\r\n\r\nimport './index.scss';\r\nimport './site';\r\n\r\nconsole.log({ msg: 'webpack entry end', window: window, global: global, g_jQuery: global.jQuery, w_jQuery: window.jQuery, w_$: window.$, moment: window.moment, bootstrap: window.bootstrap, popper: window.createPopper,  })","// extracted by mini-css-extract-plugin\nexport {};","//import '@babel/polyfill';\r\nimport Application from './Application';\r\nimport { createPopper } from '@popperjs/core';\r\n\r\n// FYI: we use webpack' preset-env 'usage' option and that means no need of direct ES polyfill loading\r\n// import '@babel/polyfill'; \r\n\r\n// TODO: investigate why this was not handled by usage? \r\nimport \"core-js/modules/es.array.includes\";\r\n\r\n// FYI: web polyfills from https://cdn.polyfill.io/v3/url-builder/\r\n// https://polyfill.io/v3/polyfill.js?flags=always%7Cgated&features=Element.prototype.closest%2CElement.prototype.classList%2CElement.prototype.matches\r\n// 'Element.prototype.matches', 'Element.prototype.closest', 'Element.prototype.classList'\r\n// options: minify=NO, real user monitoring=no, feature detect=YES, always load=YES\r\n\r\nimport './polyfill_io';\r\n\r\n// TODO: wait for polyfill-injectors synchronized loading of run-time scripts (async are not compatable with inline code)\r\n// This is alternative to webpack configuration:\r\n// import main from 'webpack-polyfill-injector?{modules:[\"./src/index.es8.js\"]}!';  // will load polyfills (if necessary) and then start your normal entry module\r\n\r\n// TODO migrate those popper v1 to v2 settings\r\n//Popper.Defaults.modifiers.computeStyle.gpuAcceleration = !(window.devicePixelRatio < 1.5 && /Win/.test(navigator.platform));\r\n//Popper.Defaults.modifiers.preventOverflow = { enabled: false };\r\n//Popper.Defaults.modifiers.flip = { enabled: false };\r\n\r\n// default bootstrap popover can't be setuped with dedicated element, this do the trick\r\n$(document).ready(function () {\r\n\r\n    const a = 2 ?? 3;\r\n    $('[data-toggle=\"popover-content\"]').popover({\r\n        html: true,\r\n        content: function () {\r\n            return $('#popover-content').html();\r\n        }\r\n    });\r\n});\r\n\r\nwindow.AdminkaApp = new Application(window);\r\nwindow.AdminkaApp.Es8TranspilerTest();\r\nwindow.createPopper = createPopper;","import WorkflowManager from './WorkflowManager.ts';\r\n\r\nexport default class Application {\r\n\r\n    constructor(window) {\r\n        this.window = window;\r\n        this.document = window.document;\r\n        this.$ = this.window.$;\r\n        this.console = window.console;\r\n        this.alert = window.alert;\r\n\r\n        this.WorkflowManager = WorkflowManager;\r\n    }\r\n\r\n    async Es8TranspilerTest() {\r\n        function GetMessage() {\r\n            return new Promise(resolve => {\r\n                setTimeout(() => {\r\n                    const object = { x: 'es8', y: 1 };\r\n                    const values = Object.values(object);\r\n                    resolve(values[0]);\r\n                }, 100);\r\n            });\r\n        }\r\n\r\n        const message = await GetMessage();\r\n        this.console.log(`This is ${message} transpiler test: OK`, );\r\n    }\r\n}","//import * as $ from 'jquery';\r\n\r\ndeclare var dc_showErrorDialog: any;\r\ndeclare var dc_showErrorDialogJs: any;\r\ndeclare var dc_notify_error: any;\r\n\r\nexport interface VoidAction {\r\n    (WorkflowManager: Workflow, block: any, unblock: any): void;\r\n}\r\n\r\nexport interface Action<T> {\r\n    (WorkflowManager: Workflow): T;\r\n} \r\n\r\nexport interface AjaxCallback<T> {\r\n    (ajaxData: T, textStatus: string, xhr: XMLHttpRequest): void;\r\n}\r\n\r\nexport interface AjaxError {\r\n    (textStatus: string): void;\r\n}\r\n\r\nexport default class WorkflowManager {\r\n    public workflowName: string;\r\n    public ErrorDialog: ErrorDialog;\r\n    public BlockDialog: BlockDialog;\r\n    public ToastFactory: ToastFactory;\r\n\r\n    constructor(workflowName: string) {\r\n        this.workflowName = workflowName;\r\n        \r\n        this.ErrorDialog = new ErrorDialog($('#modalAppliactionErrorDialog'));\r\n        this.BlockDialog = new BlockDialog($('#blockAppliactionDialog'));\r\n        this.ToastFactory = new ToastFactory($('footer'), $('.toast'));\r\n    }\r\n\r\n\r\n    public ProcessVoid(operationName: string, action: VoidAction) {\r\n        var workflow = new Workflow(this.workflowName + \".\" + operationName, this.ErrorDialog);\r\n        var logBuffer = []\r\n        // todo: analize action like\r\n        //var logstack = function () {\r\n        //    var stack = (arguments != null && arguments.callee != null && (<any>arguments.callee).trace) ? (<any>arguments.callee).trace() : null;\r\n        //    this.logBuffer.push(stack);\r\n        //}\r\n        \r\n        try {\r\n            //todo: get more information from f\r\n            action(\r\n                workflow,\r\n                () => {\r\n                    $(\"body\").css(\"cursor\", \"progress\");\r\n                    this.BlockDialog.Block();\r\n                }, () => {\r\n                    $(\"body\").css(\"cursor\", \"default\");\r\n                    this.BlockDialog.Unblock();\r\n                }\r\n            );\r\n            // todo: why not  f.call(invoc);\r\n        } catch (ex) {\r\n            //workflow.LogError(ex, joinedInfo);\r\n            var erorDetails = ErorDetailsTools.ConvertExceptionErorDetails(ex, logBuffer/**/, workflow.CorrelationToken);\r\n            this.ErrorDialog.Show(erorDetails);\r\n        }\r\n    }\r\n\r\n    //public Process<T>(action: Action<T>){\r\n    //    var workflow = new Workflow(this.operationName, this.correlationToken);\r\n    //    try {\r\n\r\n    //        return action(workflow);\r\n    //    } catch (ex) {\r\n    //        var joinedInfo = this.logBuffer.join('\\n');\r\n    //        //workflow.LogError(ex, joinedInfo);\r\n    //        workflow.ShowErrorDialogJs(ex, joinedInfo);\r\n    //    }\r\n    //}\r\n}\r\n\r\nclass ErorDetails {\r\n    public showAdvanced: boolean;\r\n    public aspRequestId: string | null;\r\n    public correlationToken: string;\r\n    public htmlMessage: string | null;\r\n    public message: string | null;\r\n    public title: string;\r\n\r\n    constructor(showAdvanced: boolean, title: string, message: string | null, htmlMessage: string | null, correlationToken: string, aspRequestId: string | null) {\r\n        this.correlationToken = correlationToken;\r\n        this.title = title;\r\n        this.showAdvanced = showAdvanced;\r\n        this.htmlMessage = htmlMessage;\r\n        this.message = message;\r\n        this.aspRequestId = aspRequestId;\r\n    }\r\n}\r\n\r\n    \r\n    //class ExceptionDetails {\r\n    \r\n    //    public isAdminPrivilege: boolean;\r\n    //    public aspRequestId: string;\r\n    //    public htmlMessage: string; \r\n    //    public message: string;\r\n    \r\n    //    constructor(isAdminPrivilege: boolean, aspRequestId: string, htmlMessage: string, message: string) {\r\n    //        this.isAdminPrivilege = isAdminPrivilege;\r\n    //        this.htmlMessage = htmlMessage;\r\n    //        this.message = message;\r\n    //        this.aspRequestId = aspRequestId;\r\n    //    }\r\n    //}\r\n    \r\nexport class Workflow {\r\n    public OperationName: string;\r\n    public CorrelationToken: string;\r\n    public ErrorDialog: ErrorDialog;\r\n    //private logErrorUrl = '/Error/LogBrowserMessage';\r\n    //private logPerfUrl  = '/Error/WriteBrowserPerfomanceCounter';\r\n\r\n    constructor(operationName: string,  errorDialog: ErrorDialog) {\r\n        this.OperationName = operationName;\r\n        this.CorrelationToken = this.NewGuid();\r\n        this.ErrorDialog = errorDialog;\r\n    }\r\n\r\n    private NewGuid(): string {\r\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n            var r = Math.random() * 16 | 0, v = c === 'x' ? r : (r & 0x3 | 0x8);\r\n            return v.toString(16);\r\n        });\r\n    };\r\n\r\n\r\n    //public LogAjaxError(errMessage: string, xhr: XMLHttpRequest, responseJSON: ExceptionDetails, textStatus: string, errorThrown: string, stack: string) {\r\n\r\n    //    if (errMessage == null) return;\r\n    //    if (responseJSON != null && responseJSON.IsUser) {\r\n    //        return;\r\n    //    }\r\n    //    var errMessagePack = errMessage + \"; textStatus:\" + textStatus + \"; errorThrown\" + errorThrown + \"; xhr:\" + xhr.responseText;\r\n\r\n    //    var fullMessage = errMessagePack;\r\n    //    if (stack != null) fullMessage += \"\\n  at \" + (stack == \"\" ? \"(stack unachived)\" : stack);\r\n    //    var logErrorUrl = this.logErrorUrl;\r\n    //    var correlationToken = this.CorrelationToken;\r\n    //    var operationName = this.OperationName;\r\n    //    // send error message\r\n    //    var ajaxSettings: JQueryAjaxSettings = {\r\n    //        type: 'POST',\r\n    //        url: logErrorUrl,\r\n    //        cache: false,\r\n    //        headers: { \"X-CorrelationToken\": correlationToken },\r\n    //        data: { message: fullMessage, isError: true, operationName: operationName, correlationToken: correlationToken }\r\n    //    }\r\n    //    $.ajax(ajaxSettings);\r\n    //}\r\n\r\n    //public LogError(ex: any, stack: string|null) {\r\n    //    if (ex == null) return;\r\n\r\n    //    var url = ex.fileName != null ? ex.fileName : document.location;\r\n    //    if (stack == null && ex.stack != null) stack = ex.stack;\r\n\r\n    //    // format output\r\n    //    var out = ex.message != null ? ex.name + \": \" + ex.message : ex;\r\n    //    out += \": at document path '\" + url + \"'.\";\r\n    //    if (stack != null) out += \"\\n  at \" + (stack == \"\" ? \"(unachived)\" : stack);\r\n    //    var logErrorUrl = this.logErrorUrl;\r\n    //    var correlationToken = this.CorrelationToken;\r\n    //    var operationName = this.OperationName;\r\n    //    // send error message\r\n    //    $.ajax({\r\n    //        type: 'POST',\r\n    //        url: logErrorUrl,\r\n    //        cache: false,\r\n    //        headers: { \"X-CorrelationToken\": correlationToken },\r\n    //        data: { message: out, isError: true, operationName: operationName, correlationToken: correlationToken }\r\n    //    });\r\n    //}\r\n\r\n    //public LogMessage(msg: string) {\r\n    //    if (msg == null)\r\n    //        return;\r\n\r\n    //    if (console != null)\r\n    //        console.log(msg);\r\n\r\n    //    var logErrorUrl = this.logErrorUrl;\r\n    //    var correlationToken = this.CorrelationToken;\r\n    //    var operationName = this.OperationName;\r\n\r\n    //    $.ajax({\r\n    //        type: 'POST',\r\n    //        url: logErrorUrl,\r\n    //        cache: false,\r\n    //        headers: { \"X-CorrelationToken\": correlationToken },\r\n    //        data: { message: String(msg), isError: false, operationName: operationName, correlationToken: correlationToken }\r\n    //    });\r\n    //}\r\n\r\n    //public LogPerf(counterName, value) {\r\n    //    if (counterName == null) return;\r\n    //    var logPerfUrl = this.logPerfUrl;\r\n    //    var correlationToken = this.CorrelationToken;\r\n    //    var operationName = this.OperationName;\r\n\r\n    //    $.ajax({\r\n    //        type: 'POST',\r\n    //        url: logPerfUrl,\r\n    //        cache: false,\r\n    //        headers: { \"X-CorrelationToken\": correlationToken },\r\n    //        data: { 'counterName': counterName, 'value': value }\r\n    //    });\r\n    //}\r\n\r\n    //public AjaxFail(title, xhr: XMLHttpRequest, responseJSON: ExceptionDetails, textStatus, errorThrown): JQuery.Promise<any> {\r\n    //    //this.LogAjaxError(title, xhr, responseJSON, textStatus, errorThrown,\r\n    //    //    (arguments != null && arguments.callee != null && (<any>arguments.callee).trace) ? (<any>arguments.callee).trace() : null);\r\n    //    if (title == null)\r\n    //        title = \"Error\"\r\n    //    return this.ShowErrorDialog(xhr, title);\r\n    //}\r\n\r\n    //public ajax<T>(): WorkflowDeferredManager<T> {\r\n    //    var workflowDeferredManager =  new WorkflowDeferredManager();\r\n    //    return workflowDeferredManager;\r\n    //}\r\n\r\n    // TODO: http://www.svlada.com/override-jquery-ajax-handler/\r\n    // TODO: http://stackoverflow.com/questions/17582239/overriding-the-jquery-ajax-success\r\n\r\n\r\n    public HandlePromise<T>(ajaxPromise: JQuery.Promise<any>, done: AjaxCallback<T>, title: string, userError: AjaxError | null = null): JQuery.Promise<any> {\r\n        var promise = $.when(ajaxPromise)\r\n            .then(\r\n                (ajaxData: T, textStatus: string, XHR: XMLHttpRequest, responseJSON: any) => {\r\n                    try {\r\n                        done(ajaxData, textStatus, XHR)\r\n                    } catch (ex) {\r\n                        var details = (done != null) ? \"Body: \" + String(done).substring(0, 512) + \"...\" : \"\";\r\n                        var logBuffer = [details];\r\n                        //this.LogError(ex, details);\r\n                        var erorDetails = ErorDetailsTools.ConvertExceptionErorDetails(ex, logBuffer, this.CorrelationToken);\r\n                        this.ErrorDialog.Show(erorDetails);\r\n                    }\r\n                },\r\n                (XHR: XMLHttpRequest, textStatus, errorThrown, responseJSON) => {\r\n                    var responceJsonHandled = XHR.hasOwnProperty(\"responseJSON\") ? XHR[\"responseJSON\"] : responseJSON;\r\n                    if (userError != null && responceJsonHandled && responceJsonHandled.IsUser)\r\n                        userError(responceJsonHandled.ExceptionMessage);\r\n                    else {\r\n                        var erorDetails = ErorDetailsTools.ConvertXhrToErorDetails(XHR, title, this.CorrelationToken);\r\n                        this.ErrorDialog.Show(erorDetails);\r\n                    }\r\n                }\r\n            );\r\n        return promise;\r\n    }\r\n\r\n    //public ajaxVanilla<T>(url: string, params: any, done: AjaxCallback<T>, title: string, useBlockUi: boolean): JQuery.Promise<any> {\r\n    //    var t0 = performance.now();\r\n    //    if (useBlockUi)\r\n    //        this.blockUi();\r\n    //    var ajaxPromise = this.createAjaxLoadDataPromise<T>(url, params);\r\n    //    //if (useBlockUi)\r\n    //    //    ajaxPromise.always(() => $.unblockUI());\r\n    //    var uiSynchronizedPromise = $.when(ajaxPromise)\r\n    //        .then(\r\n    //        (ajaxData: T, textStatus: string, XHR: XMLHttpRequest, responseJSON: any) => {\r\n    //            try {\r\n    //                var tX = XHR.getResponseHeader(\"X-RL2Server-Duration\");\r\n    //                var t1 = performance.now();\r\n    //                done(ajaxData, textStatus, XHR)\r\n    //                var t2 = performance.now();\r\n    //                var message = (tX != null ? \"\" : tX + \" | \") + (t1 - t0) + \" | \" + (t2 - t0);\r\n    //                //this.LogPerf(this.OperationName + \".ajaxVanilla\", message);\r\n    //            } catch (ex) {\r\n    //                var details = (done != null) ? \"Body: \" + String(done).substring(0, 512) + \"...\" : null;\r\n    //                //this.LogError(ex, details);\r\n    //                var promise = this.ShowErrorDialogJs(ex, details).done(x => {; });\r\n    //                return promise;\r\n    //            }\r\n    //        },\r\n    //        (XHR: XMLHttpRequest, textStatus, errorThrown, responseJSON) =>\r\n    //            this.AjaxFail(title, XHR, XHR.hasOwnProperty(\"responseJSON\") ? XHR[\"responseJSON\"] : responseJSON, textStatus, errorThrown)\r\n    //        );\r\n    //    return uiSynchronizedPromise;\r\n    //}\r\n\r\n    //public createAjaxLoadDataPromise<T>(url: string, params: any): JQuery.Deferred<any> {\r\n    //    var deffered = jQuery.Deferred<any>();\r\n    //    var xhr = new XMLHttpRequest();\r\n    //    xhr.open(\"POST\", url, true);\r\n    //    xhr.setRequestHeader(\"Content-type\", \"application/json; charset=utf-8\");\r\n    //    xhr.setRequestHeader(\"X-CorrelationToken\", this.CorrelationToken);\r\n\r\n    //    xhr.onload = () => {\r\n    //        if (xhr.status >= 200 && xhr.status < 400) {\r\n    //            var responseJSON = JSON.parse(xhr.response);\r\n    //            deffered.resolve(responseJSON, \"\", xhr);\r\n    //        } else {\r\n    //            var responseJSON = JSON.parse(xhr.response);\r\n    //            deffered.reject(xhr, xhr.statusText, xhr.response, responseJSON);\r\n    //        }\r\n    //    };\r\n\r\n    //    xhr.onerror = (ev) => {\r\n    //        deffered.reject(xhr, xhr.status, xhr.statusText);\r\n    //    };\r\n    //    var paramsText = JSON.stringify(params);\r\n    //    xhr.send(paramsText);\r\n    //    return deffered;\r\n    //}\r\n\r\n    //public blockUi() {\r\n    //    //jQuery.blockUI({\r\n    //    //    message: $(\"<div>Wait a moment..</div>\"),\r\n    //    //    css: {\r\n    //    //        fontSize: \"400%\",\r\n    //    //        fontWeight: \"900\",\r\n    //    //        color: \"white\",\r\n    //    //        background: \"none\",\r\n    //    //        border: \"none\"\r\n    //    //    },\r\n    //    //    overlayCSS: {\r\n    //    //        backgroundColor: \"rgba(58, 124, 158, 1.2)\"\r\n    //    //    }\r\n    //    //});\r\n    //}\r\n\r\n    // TODO: http://habrahabr.ru/post/112960/ - search for saveContact ,\r\n    // somehihng how to organize dialog save\r\n    //private ShowErrorDialog(xhr: XMLHttpRequest, responseJSON: ExceptionDetails, title: string): JQuery.Promise<any> {\r\n    //    var correlationToken = this.CorrelationToken;\r\n    //    var code = xhr.status;\r\n    //    var template =\r\n    //        $('<div><div>'\r\n    //            + (responseJSON == null ?\r\n    //                '<b>Correlation Token: </b><span class=\"erdCorrelationToken\"></span><br/>'\r\n    //                + '<b>Code: </b><span class=\"erdCode\"></span><br/>'\r\n    //                :\r\n    //                ('<b>Server Message: </b><span class=\"erdMessage\"></span><br />'\r\n    //                    + '<b>Exception Type: </b><span class=\"erdExceptionType\"></span><br />'\r\n    //                    + '<b>Exception Message: </b><span class=\"erdExceptionMessage\"></span><br />'\r\n    //                    + '<b>Controller: </b><span class=\"erdController\"></span><br />'\r\n    //                    + '<b>Action: </b><span class=\"erdAction\"></span><br/>'\r\n    //                    + '<b>Correlation Token: </b><span class=\"erdCorrelationToken\"></span><br/>'\r\n    //                    + '<br/><b>Stack:</b>'\r\n    //                    + '<pre  class=\"erdStackTrace\"></pre>'))\r\n    //            + (responseJSON != null ? '' : '<br/><b>Serialised to string:</b>'\r\n    //                + '<pre class=\"erdSerialised\"></pre>')\r\n    //            + '</div></div></div>');\r\n    //    template.find('.erdCorrelationToken').text(correlationToken);\r\n    //    if (responseJSON != null) {\r\n    //        template.find('.erdMessage').text(responseJSON.Message);\r\n    //        template.find('.erdExceptionType').text(responseJSON.ExceptionType);\r\n    //        template.find('.erdExceptionMessage').text(responseJSON.ExceptionMessage);\r\n    //        template.find('.erdController').text(responseJSON.Controller);\r\n    //        template.find('.erdAction').text(responseJSON.Action);\r\n    //        console.log(\"e1\");\r\n    //        template.find('.erdStackTrace').text(responseJSON.TechInfo);\r\n\r\n    //    } else {\r\n    //        if (JSON != null && JSON.stringify != null) {\r\n    //            var serialised = '';\r\n    //            if (xhr.responseText != null && xhr.responseText.indexOf(\"<!DOCTYPE html\") == 0) {\r\n    //                // TODO: add indents (it is impossible to parse and get body but text can be improoved)\r\n    //                var serialised = JSON.stringify(xhr)\r\n    //                template.find('.erdSerialised').text(serialised);\r\n    //            } else {\r\n    //                var serialised = JSON.stringify(xhr)\r\n    //                template.find('.erdSerialised').text(serialised);\r\n    //            }\r\n\r\n    //            template.find('.erdCode').text(xhr.status);\r\n    //        }\r\n    //    }\r\n    //    var details = template.html();\r\n\r\n    //    var message = \"\";\r\n    //    var techTitle = \"\";\r\n    //    if (responseJSON != null && responseJSON.IsUser == true) {\r\n    //        //title = \"Prohibited behaviour\";\r\n    //        message = responseJSON.ExceptionMessage;\r\n    //    }\r\n    //    else {\r\n    //        var messageMap = {\r\n    //            '400': \"Server understood the request, but request content was invalid. 95% of the time this is because of a problem on the client system e.g. there is something unstable in the web application running the Web browser. Please contact system Administrator.\",\r\n    //            '401': \"Access to the URL resource requires user authentication which has not yet been provided or which has been provided but failed authorization tests.\",\r\n    //            '403': \"Forbidden resource can't be accessed. Web server gives this response without providing any reason.\",\r\n    //            '404': \"The requested resource not found.\",\r\n    //            '500': \"It looks as though we've not covered something in on our system. Please contact the system administrator.\",\r\n    //            '503': \"The Web server is currently unable to handle your request due to a temporary overloading or maintenance of the server.\"\r\n    //        };\r\n\r\n    //        var titleMap = {\r\n    //            '400': \"Bad request error (400)\",\r\n    //            '401': \"Unauthorized access (401)\",\r\n    //            '403': \"Forbidden (403)\",\r\n    //            '404': \"Not found (404)\",\r\n    //            '500': \"Internal Server Error (500)\",\r\n    //            '503': \"Service unavailable (503)\"\r\n    //        };\r\n\r\n    //        techTitle = titleMap[code];\r\n    //        message = messageMap[code];\r\n    //        if (techTitle == null) {\r\n    //            techTitle = \"Programming Mistake\";\r\n    //            message = messageMap[\"500\"];\r\n    //        }\r\n    //        message = techTitle + \". \" + message\r\n    //    }\r\n    //    var wholeTitle = '<span class=\"glyphicon glyphicon-exclamation-sign\" aria-hidden=\"true\"></span> ' + title;\r\n    //    return this.ShowExpandableDialog(wholeTitle, message, template);\r\n    //}\r\n\r\n\r\n\r\n    //private ShowExpandableDialog(title: string, message: string, template: JQuery): JQuery.Promise<any> {\r\n    //    var defered = $.Deferred();\r\n    //    var x = (result) => defered.resolve(result);\r\n\r\n    //    $('#errorDialogModal').modal('show');\r\n    //    //var dialog = BootstrapDialog.alert({\r\n    //    //    type: BootstrapDialog.TYPE_DANGER,\r\n    //    //    closable: true,\r\n    //    //    title: title,\r\n    //    //    message: message,\r\n    //    //    callback: (result) => defered.resolve(result)\r\n    //    //})\r\n\r\n    //    var details = template.html();\r\n    //    //if (details == null) {\r\n    //    //    dialog.getModalFooter().hide();\r\n    //    //}\r\n    //    //else {\r\n    //        //var $q = dialog.getModalFooter().html(\r\n    //        //    '<div class=\"span4 collapse-group\">'\r\n    //        //    + '<a class=\"btn btn-danger collapse-button\" data-toggle=\"collapse\">View details &raquo;</a>'\r\n    //        //    + '<div class=\"collapse\" style=\"margin-top:1em;text-align:left;\">' + details + '</div>'\r\n    //        //    + '</div>')\r\n    //        //    .css('text-align', 'left');\r\n    //        //$q.find('.collapse-button').on('click',\r\n    //        //    () => {\r\n    //        //        $q.find('.collapse').collapse('toggle')\r\n    //        //    }\r\n    //        //)\r\n    //        //$q.find('.collapse')\r\n    //        //    .on('shown.bs.collapse.in',\r\n    //        //    (e) => {\r\n    //        //        dialog.getModalFooter().closest('.modal-backdrop')\r\n    //        //            .height(\r\n    //        //            Math.max($('.modal-backdrop').height(),\r\n    //        //                $('.bootstrap-dialog')[0].scrollHeight));\r\n    //        //    })\r\n    //        //    .on('hidden.bs.collapse.in',\r\n    //        //    (e) => {\r\n    //        //        $('.modal-backdrop').height(\r\n    //        //            $(document).height());\r\n    //        //    });\r\n    //    //}\r\n\r\n    //    return defered.promise();\r\n    //}\r\n\r\n    //private ShowErrorNotify(title: string) {\r\n    //    $(document).ready(function () { dc_notify_error(title) });\r\n    //}\r\n\r\n    //public ShowErrorDialogDefered(xhr, title): JQuery.Promise<any> {\r\n    //    var erorDetails = ErorDetailsTools.ConvertXhrToErorDetails(xhr, title, this.CorrelationToken);\r\n    //    return this.ShowErrorDialogInternalDefered(erorDetails);\r\n    //}\r\n\r\n    //public ShowErrorDialogInternalDefered(erorDetails: ErorDetails): JQuery.Promise<any> {\r\n    //    var defered = $.Deferred();\r\n    //    this.ErrorDialog.Show(erorDetails);\r\n    //    this.ErrorDialog.OnClosed(defered);\r\n    //    return defered.promise();\r\n    //}\r\n}\r\n\r\nclass ErrorDialog {\r\n    $errodDialog: any;\r\n\r\n    constructor($errodDialog) {\r\n        this.$errodDialog = $errodDialog;\r\n    }\r\n\r\n    public Show(erorDetails: ErorDetails) {\r\n        this.$errodDialog.find('.adminka-error-title').text(erorDetails.title);\r\n        if (erorDetails.correlationToken) {\r\n            this.$errodDialog.find('.adminka-error-text-field-correlation-token').text(erorDetails.correlationToken);\r\n            this.$errodDialog.find('.adminka-error-text-field-correlation-token').parent().show();\r\n        }\r\n        else\r\n            this.$errodDialog.find('.adminka-error-text-field-correlation-token').parent().hide();\r\n\r\n        if (erorDetails.showAdvanced) {\r\n            this.$errodDialog.find('.adminka-error-advanced').show();\r\n            this.$errodDialog.find('.adminka-error-text-field-asp-request').text(erorDetails.aspRequestId || \"\");\r\n            this.$errodDialog.find('.adminka-error-text-field-message').hide();\r\n            this.$errodDialog.find('.adminka-error-details')[0].innerHTML = erorDetails.htmlMessage || \"\";\r\n        } else {\r\n            this.$errodDialog.find('.adminka-error-advanced').hide();\r\n            this.$errodDialog.find('.adminka-error-text-field-message').show();\r\n            this.$errodDialog.find('.adminka-error-text-field-message').text(erorDetails.message || \"\");\r\n        }\r\n\r\n        this.$errodDialog.modal('show');\r\n    }\r\n\r\n    public OnClosed(defered: JQuery.Deferred<any, any, any>) {\r\n        this.$errodDialog.on('hidden.bs.modal', function (e) {\r\n            defered.resolve(e);\r\n        })\r\n    }\r\n}\r\n\r\nclass ToastFactory {\r\n    $footer: any;\r\n    $toast: any;\r\n\r\n    constructor($footer, $toast ) {\r\n        this.$footer = $footer;\r\n        this.$toast = $toast;\r\n    }\r\n\r\n    public Show(message: string) {\r\n        this.$toast.find('.toast-header strong').text(message);\r\n        this.$toast.toast('show');\r\n    }\r\n\r\n    public CreateToast() {\r\n        var template =\r\n        '<div class=\"toast\" data-delay=\"1000\" data-autohide=\"false\" role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\">'+\r\n        '<div class=\"toast-header\">'+\r\n            //'<img src=\"...\" class=\"rounded mr-2\" alt=\"...\">'+\r\n            //'<strong class=\"mr-auto\">Bootstrap</strong>'+\r\n            '<small class=\"text-muted\">just now</small>'+\r\n            '<button type=\"button\" class=\"ml-2 mb-1 close\" data-dismiss=\"toast\" aria-label=\"Close\">'+\r\n                '<span aria-hidden=\"true\">&times;</span>'+\r\n            '</button>'+\r\n        '</div>'+\r\n        '<div class=\"toast-body\">See? Just like this.</div>'+\r\n        '</div>'\r\n    }\r\n}\r\n\r\nclass BlockDialog {\r\n    $blockDialog: any;\r\n\r\n    constructor($blockDialog) {\r\n        this.$blockDialog = $blockDialog; \r\n    }\r\n\r\n    public Block() {\r\n        this.$blockDialog.modal({\r\n            backdrop: 'static',\r\n            keyboard: false\r\n        });\r\n    }\r\n\r\n    public Unblock() {\r\n        this.$blockDialog.modal('hide');\r\n    }\r\n\r\n    public OnClosed(defered: JQuery.Deferred<any, any, any>) {\r\n        this.$blockDialog.on('hidden.bs.modal', function (e) {\r\n            defered.resolve(e);\r\n        })\r\n    }\r\n}\r\n\r\nconst StatusConstants = {\r\n    MessageMap : {\r\n        '400': \"Server understood the request, but request content was invalid. 95% of the time this is because of a problem on the client system e.g. there is something unstable in the web application running the Web browser. Please contact system Administrator.\",\r\n        '401': \"Access to the URL resource requires user authentication which has not yet been provided or which has been provided but failed authorization tests.\",\r\n        '403': \"Forbidden resource can't be accessed. Web server gives this response without providing any reason.\",\r\n        '404': \"The requested resource not found.\",\r\n        '500': \"It looks as though we've not covered something in on our system. Please contact the system administrator.\",\r\n        '503': \"The Web server is currently unable to handle your request due to a temporary overloading or maintenance of the server.\"\r\n    },\r\n\r\n    TitleMap : {\r\n        '400': \"Bad request error (400)\",\r\n        '401': \"Unauthorized access (401)\",\r\n        '403': \"Forbidden (403)\",\r\n        '404': \"Not found (404)\",\r\n        '500': \"Internal Server Error (500)\",\r\n        '503': \"Service unavailable (503)\"\r\n    }\r\n}\r\n\r\nexport const ErorDetailsTools = {\r\n    ConvertXhrToErorDetails(xhr, title, localCorrelationToken: string): ErorDetails {\r\n        console.log(xhr);\r\n        var isUserMessage = false;\r\n        if (xhr.status === 403)\r\n            isUserMessage = true;\r\n        var showAdvanced = false;\r\n        if (xhr.responseJSON && xhr.responseJSON.isAdminPrivilege && !isUserMessage) {\r\n            showAdvanced = true;\r\n        }\r\n        var message = xhr.responseText;\r\n        if (xhr.responseJSON == null && (xhr.status === 400 || xhr.status === 401\r\n            || xhr.status === 403 || xhr.status === 404 || xhr.status === 500 || xhr.status === 503)) {\r\n            message = StatusConstants.TitleMap[xhr.status] + \". \" + StatusConstants.MessageMap[xhr.status];\r\n        }\r\n        if (xhr.responseJSON && xhr.responseJSON.message)\r\n            message = xhr.responseJSON.message;\r\n        var aspRequestId = null;\r\n        if (xhr.responseJSON && xhr.responseJSON.aspRequestId)\r\n            aspRequestId = xhr.responseJSON.aspRequestId;\r\n        var correlationToken = xhr.getResponseHeader('X-CorrelationToken') || localCorrelationToken;\r\n        var htmlMessage = \"\";\r\n        if (xhr.responseJSON && xhr.responseJSON.htmlMessage)\r\n            htmlMessage = xhr.responseJSON.htmlMessage;\r\n        var erorDetails = new ErorDetails(showAdvanced, title, message, htmlMessage, correlationToken, aspRequestId);\r\n        return erorDetails;\r\n    },\r\n\r\n    ConvertExceptionErorDetails(ex: any, logBuffer: string[] | null, localCorrelationToken: string): ErorDetails {\r\n        var showAdvanced = true;\r\n        var title = 'JavaScript Exception';\r\n        var details = ex.description != null ? ex.description : ex;\r\n        var bufferText = \"\";\r\n        if (logBuffer) {\r\n            bufferText = logBuffer.join('\\n');\r\n        }\r\n        details = details + '\\n\\n' + String(ex) + '\\n' + bufferText;\r\n        details = details + '\\n\\n' + (ex.stack != null) ? ex.stack : \"\";\r\n        var htmlMessage = $('span').text(details)[0].innerHTML;\r\n        var erorDetails = new ErorDetails(showAdvanced, title, null, htmlMessage, localCorrelationToken, null);\r\n        return erorDetails;\r\n    }\r\n}\r\n\r\n\r\n"],"names":["console","log","msg","window","global","g_jQuery","jQuery","w_jQuery","w_$","$","moment","bootstrap","popper","createPopper","Application","document","ready","_","a","popover","html","content","AdminkaApp","Es8TranspilerTest","WorkflowManager","constructor","alert","GetMessage","Promise","resolve","setTimeout","object","x","y","values","Object","message","workflowName","ErrorDialog","BlockDialog","ToastFactory","ProcessVoid","operationName","action","workflow","Workflow","logBuffer","css","Block","Unblock","ex","erorDetails","ErorDetailsTools","ConvertExceptionErorDetails","CorrelationToken","Show","ErorDetails","showAdvanced","title","htmlMessage","correlationToken","aspRequestId","errorDialog","OperationName","NewGuid","replace","c","r","Math","random","v","toString","HandlePromise","ajaxPromise","done","userError","promise","when","then","ajaxData","textStatus","XHR","responseJSON","details","String","substring","errorThrown","responceJsonHandled","hasOwnProperty","IsUser","ExceptionMessage","ConvertXhrToErorDetails","$errodDialog","find","text","parent","show","hide","innerHTML","modal","OnClosed","defered","on","e","$footer","$toast","toast","CreateToast","template","$blockDialog","backdrop","keyboard","StatusConstants","MessageMap","TitleMap","xhr","localCorrelationToken","isUserMessage","status","isAdminPrivilege","responseText","getResponseHeader","description","bufferText","join","stack"],"sourceRoot":""}