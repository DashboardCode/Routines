{"version":3,"sources":["webpack://dashboard-code.adminka-v1.web.mvc-core-app/./src/Application.js","webpack://dashboard-code.adminka-v1.web.mvc-core-app/./src/WorkflowManager.ts","webpack://dashboard-code.adminka-v1.web.mvc-core-app/./src/index.js","webpack://dashboard-code.adminka-v1.web.mvc-core-app/./src/site.js","webpack://dashboard-code.adminka-v1.web.mvc-core-app/./src/index.scss?2c1e"],"names":["Application","window","document","$","console","alert","WorkflowManager","GetMessage","Promise","resolve","setTimeout","object","x","y","values","Object","message","log","workflowName","ErrorDialog","BlockDialog","ToastFactory","operationName","action","workflow","Workflow","logBuffer","css","Block","Unblock","ex","erorDetails","ErorDetailsTools","ConvertExceptionErorDetails","CorrelationToken","Show","ErorDetails","showAdvanced","title","htmlMessage","correlationToken","aspRequestId","errorDialog","OperationName","NewGuid","replace","c","r","Math","random","v","toString","ajaxPromise","done","userError","promise","when","then","ajaxData","textStatus","XHR","responseJSON","details","String","substring","errorThrown","responceJsonHandled","hasOwnProperty","IsUser","ExceptionMessage","ConvertXhrToErorDetails","$errodDialog","find","text","parent","show","hide","innerHTML","modal","defered","on","e","$footer","$toast","toast","template","$blockDialog","backdrop","keyboard","StatusConstants","MessageMap","TitleMap","xhr","localCorrelationToken","isUserMessage","status","isAdminPrivilege","responseText","getResponseHeader","description","bufferText","join","stack","msg","global","g_jQuery","jQuery","w_jQuery","w_$","moment","bootstrap","popper","createPopper","ready","popover","html","content","AdminkaApp","Es8TranspilerTest"],"mappings":"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AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;AA/WJ;;AAAA;AAAA;;IAkXMpC,W;AAGF,uBAAYoD,YAAZ,EAA0B;AAAA;;AAAA;;AACtB,SAAKA,YAAL,GAAoBA,YAApB;AACH;;;;WAED,cAAYxC,WAAZ,EAAsC;AAClC,WAAKwC,YAAL,CAAkBC,IAAlB,CAAuB,sBAAvB,EAA+CC,IAA/C,CAAoD1C,WAAW,CAACO,KAAhE;;AACA,UAAIP,WAAW,CAACS,gBAAhB,EAAkC;AAC9B,aAAK+B,YAAL,CAAkBC,IAAlB,CAAuB,6CAAvB,EAAsEC,IAAtE,CAA2E1C,WAAW,CAACS,gBAAvF;AACA,aAAK+B,YAAL,CAAkBC,IAAlB,CAAuB,6CAAvB,EAAsEE,MAAtE,GAA+EC,IAA/E;AACH,OAHD,MAKI,KAAKJ,YAAL,CAAkBC,IAAlB,CAAuB,6CAAvB,EAAsEE,MAAtE,GAA+EE,IAA/E;;AAEJ,UAAI7C,WAAW,CAACM,YAAhB,EAA8B;AAC1B,aAAKkC,YAAL,CAAkBC,IAAlB,CAAuB,yBAAvB,EAAkDG,IAAlD;AACA,aAAKJ,YAAL,CAAkBC,IAAlB,CAAuB,uCAAvB,EAAgEC,IAAhE,CAA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","file":"main.js","sourcesContent":["import WorkflowManager from './WorkflowManager.ts';\r\n\r\nexport default class Application {\r\n\r\n    constructor(window) {\r\n        this.window = window;\r\n        this.document = window.document;\r\n        this.$ = this.window.$;\r\n        this.console = window.console;\r\n        this.alert = window.alert;\r\n\r\n        this.WorkflowManager = WorkflowManager;\r\n    }\r\n\r\n    async Es8TranspilerTest() {\r\n        function GetMessage() {\r\n            return new Promise(resolve => {\r\n                setTimeout(() => {\r\n                    const object = { x: 'es8', y: 1 };\r\n                    const values = Object.values(object);\r\n                    resolve(values[0]);\r\n                }, 100);\r\n            });\r\n        }\r\n\r\n        const message = await GetMessage();\r\n        this.console.log(`This is ${message} transpiler test: OK`, );\r\n    }\r\n}","//import * as $ from 'jquery';\r\n\r\ndeclare var dc_showErrorDialog: any;\r\ndeclare var dc_showErrorDialogJs: any;\r\ndeclare var dc_notify_error: any;\r\n\r\nexport interface VoidAction {\r\n    (WorkflowManager: Workflow, block: any, unblock: any): void;\r\n}\r\n\r\nexport interface Action<T> {\r\n    (WorkflowManager: Workflow): T;\r\n} \r\n\r\nexport interface AjaxCallback<T> {\r\n    (ajaxData: T, textStatus: string, xhr: XMLHttpRequest): void;\r\n}\r\n\r\nexport interface AjaxError {\r\n    (textStatus: string): void;\r\n}\r\n\r\nexport default class WorkflowManager {\r\n    public workflowName: string;\r\n    public ErrorDialog: ErrorDialog;\r\n    public BlockDialog: BlockDialog;\r\n    public ToastFactory: ToastFactory;\r\n\r\n    constructor(workflowName: string) {\r\n        this.workflowName = workflowName;\r\n        \r\n        this.ErrorDialog = new ErrorDialog($('#modalAppliactionErrorDialog'));\r\n        this.BlockDialog = new BlockDialog($('#blockAppliactionDialog'));\r\n        this.ToastFactory = new ToastFactory($('footer'), $('.toast'));\r\n    }\r\n\r\n\r\n    public ProcessVoid(operationName: string, action: VoidAction) {\r\n        var workflow = new Workflow(this.workflowName + \".\" + operationName, this.ErrorDialog);\r\n        var logBuffer = []\r\n        // todo: analize action like\r\n        //var logstack = function () {\r\n        //    var stack = (arguments != null && arguments.callee != null && (<any>arguments.callee).trace) ? (<any>arguments.callee).trace() : null;\r\n        //    this.logBuffer.push(stack);\r\n        //}\r\n        \r\n        try {\r\n            //todo: get more information from f\r\n            action(\r\n                workflow,\r\n                () => {\r\n                    $(\"body\").css(\"cursor\", \"progress\");\r\n                    this.BlockDialog.Block();\r\n                }, () => {\r\n                    $(\"body\").css(\"cursor\", \"default\");\r\n                    this.BlockDialog.Unblock();\r\n                }\r\n            );\r\n            // todo: why not  f.call(invoc);\r\n        } catch (ex) {\r\n            //workflow.LogError(ex, joinedInfo);\r\n            var erorDetails = ErorDetailsTools.ConvertExceptionErorDetails(ex, logBuffer/**/, workflow.CorrelationToken);\r\n            this.ErrorDialog.Show(erorDetails);\r\n        }\r\n    }\r\n\r\n    //public Process<T>(action: Action<T>){\r\n    //    var workflow = new Workflow(this.operationName, this.correlationToken);\r\n    //    try {\r\n\r\n    //        return action(workflow);\r\n    //    } catch (ex) {\r\n    //        var joinedInfo = this.logBuffer.join('\\n');\r\n    //        //workflow.LogError(ex, joinedInfo);\r\n    //        workflow.ShowErrorDialogJs(ex, joinedInfo);\r\n    //    }\r\n    //}\r\n}\r\n\r\nclass ErorDetails {\r\n    public showAdvanced: boolean;\r\n    public aspRequestId: string | null;\r\n    public correlationToken: string;\r\n    public htmlMessage: string | null;\r\n    public message: string | null;\r\n    public title: string;\r\n\r\n    constructor(showAdvanced: boolean, title: string, message: string | null, htmlMessage: string | null, correlationToken: string, aspRequestId: string | null) {\r\n        this.correlationToken = correlationToken;\r\n        this.title = title;\r\n        this.showAdvanced = showAdvanced;\r\n        this.htmlMessage = htmlMessage;\r\n        this.message = message;\r\n        this.aspRequestId = aspRequestId;\r\n    }\r\n}\r\n\r\n    \r\n    //class ExceptionDetails {\r\n    \r\n    //    public isAdminPrivilege: boolean;\r\n    //    public aspRequestId: string;\r\n    //    public htmlMessage: string; \r\n    //    public message: string;\r\n    \r\n    //    constructor(isAdminPrivilege: boolean, aspRequestId: string, htmlMessage: string, message: string) {\r\n    //        this.isAdminPrivilege = isAdminPrivilege;\r\n    //        this.htmlMessage = htmlMessage;\r\n    //        this.message = message;\r\n    //        this.aspRequestId = aspRequestId;\r\n    //    }\r\n    //}\r\n    \r\nexport class Workflow {\r\n    public OperationName: string;\r\n    public CorrelationToken: string;\r\n    public ErrorDialog: ErrorDialog;\r\n    //private logErrorUrl = '/Error/LogBrowserMessage';\r\n    //private logPerfUrl  = '/Error/WriteBrowserPerfomanceCounter';\r\n\r\n    constructor(operationName: string,  errorDialog: ErrorDialog) {\r\n        this.OperationName = operationName;\r\n        this.CorrelationToken = this.NewGuid();\r\n        this.ErrorDialog = errorDialog;\r\n    }\r\n\r\n    private NewGuid(): string {\r\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n            var r = Math.random() * 16 | 0, v = c === 'x' ? r : (r & 0x3 | 0x8);\r\n            return v.toString(16);\r\n        });\r\n    };\r\n\r\n\r\n    //public LogAjaxError(errMessage: string, xhr: XMLHttpRequest, responseJSON: ExceptionDetails, textStatus: string, errorThrown: string, stack: string) {\r\n\r\n    //    if (errMessage == null) return;\r\n    //    if (responseJSON != null && responseJSON.IsUser) {\r\n    //        return;\r\n    //    }\r\n    //    var errMessagePack = errMessage + \"; textStatus:\" + textStatus + \"; errorThrown\" + errorThrown + \"; xhr:\" + xhr.responseText;\r\n\r\n    //    var fullMessage = errMessagePack;\r\n    //    if (stack != null) fullMessage += \"\\n  at \" + (stack == \"\" ? \"(stack unachived)\" : stack);\r\n    //    var logErrorUrl = this.logErrorUrl;\r\n    //    var correlationToken = this.CorrelationToken;\r\n    //    var operationName = this.OperationName;\r\n    //    // send error message\r\n    //    var ajaxSettings: JQueryAjaxSettings = {\r\n    //        type: 'POST',\r\n    //        url: logErrorUrl,\r\n    //        cache: false,\r\n    //        headers: { \"X-CorrelationToken\": correlationToken },\r\n    //        data: { message: fullMessage, isError: true, operationName: operationName, correlationToken: correlationToken }\r\n    //    }\r\n    //    $.ajax(ajaxSettings);\r\n    //}\r\n\r\n    //public LogError(ex: any, stack: string|null) {\r\n    //    if (ex == null) return;\r\n\r\n    //    var url = ex.fileName != null ? ex.fileName : document.location;\r\n    //    if (stack == null && ex.stack != null) stack = ex.stack;\r\n\r\n    //    // format output\r\n    //    var out = ex.message != null ? ex.name + \": \" + ex.message : ex;\r\n    //    out += \": at document path '\" + url + \"'.\";\r\n    //    if (stack != null) out += \"\\n  at \" + (stack == \"\" ? \"(unachived)\" : stack);\r\n    //    var logErrorUrl = this.logErrorUrl;\r\n    //    var correlationToken = this.CorrelationToken;\r\n    //    var operationName = this.OperationName;\r\n    //    // send error message\r\n    //    $.ajax({\r\n    //        type: 'POST',\r\n    //        url: logErrorUrl,\r\n    //        cache: false,\r\n    //        headers: { \"X-CorrelationToken\": correlationToken },\r\n    //        data: { message: out, isError: true, operationName: operationName, correlationToken: correlationToken }\r\n    //    });\r\n    //}\r\n\r\n    //public LogMessage(msg: string) {\r\n    //    if (msg == null)\r\n    //        return;\r\n\r\n    //    if (console != null)\r\n    //        console.log(msg);\r\n\r\n    //    var logErrorUrl = this.logErrorUrl;\r\n    //    var correlationToken = this.CorrelationToken;\r\n    //    var operationName = this.OperationName;\r\n\r\n    //    $.ajax({\r\n    //        type: 'POST',\r\n    //        url: logErrorUrl,\r\n    //        cache: false,\r\n    //        headers: { \"X-CorrelationToken\": correlationToken },\r\n    //        data: { message: String(msg), isError: false, operationName: operationName, correlationToken: correlationToken }\r\n    //    });\r\n    //}\r\n\r\n    //public LogPerf(counterName, value) {\r\n    //    if (counterName == null) return;\r\n    //    var logPerfUrl = this.logPerfUrl;\r\n    //    var correlationToken = this.CorrelationToken;\r\n    //    var operationName = this.OperationName;\r\n\r\n    //    $.ajax({\r\n    //        type: 'POST',\r\n    //        url: logPerfUrl,\r\n    //        cache: false,\r\n    //        headers: { \"X-CorrelationToken\": correlationToken },\r\n    //        data: { 'counterName': counterName, 'value': value }\r\n    //    });\r\n    //}\r\n\r\n    //public AjaxFail(title, xhr: XMLHttpRequest, responseJSON: ExceptionDetails, textStatus, errorThrown): JQuery.Promise<any> {\r\n    //    //this.LogAjaxError(title, xhr, responseJSON, textStatus, errorThrown,\r\n    //    //    (arguments != null && arguments.callee != null && (<any>arguments.callee).trace) ? (<any>arguments.callee).trace() : null);\r\n    //    if (title == null)\r\n    //        title = \"Error\"\r\n    //    return this.ShowErrorDialog(xhr, title);\r\n    //}\r\n\r\n    //public ajax<T>(): WorkflowDeferredManager<T> {\r\n    //    var workflowDeferredManager =  new WorkflowDeferredManager();\r\n    //    return workflowDeferredManager;\r\n    //}\r\n\r\n    // TODO: http://www.svlada.com/override-jquery-ajax-handler/\r\n    // TODO: http://stackoverflow.com/questions/17582239/overriding-the-jquery-ajax-success\r\n\r\n\r\n    public HandlePromise<T>(ajaxPromise: JQuery.Promise<any>, done: AjaxCallback<T>, title: string, userError: AjaxError | null = null): JQuery.Promise<any> {\r\n        var promise = $.when(ajaxPromise)\r\n            .then(\r\n                (ajaxData: T, textStatus: string, XHR: XMLHttpRequest, responseJSON: any) => {\r\n                    try {\r\n                        done(ajaxData, textStatus, XHR)\r\n                    } catch (ex) {\r\n                        var details = (done != null) ? \"Body: \" + String(done).substring(0, 512) + \"...\" : \"\";\r\n                        var logBuffer = [details];\r\n                        //this.LogError(ex, details);\r\n                        var erorDetails = ErorDetailsTools.ConvertExceptionErorDetails(ex, logBuffer, this.CorrelationToken);\r\n                        this.ErrorDialog.Show(erorDetails);\r\n                    }\r\n                },\r\n                (XHR: XMLHttpRequest, textStatus, errorThrown, responseJSON) => {\r\n                    var responceJsonHandled = XHR.hasOwnProperty(\"responseJSON\") ? XHR[\"responseJSON\"] : responseJSON;\r\n                    if (userError != null && responceJsonHandled && responceJsonHandled.IsUser)\r\n                        userError(responceJsonHandled.ExceptionMessage);\r\n                    else {\r\n                        var erorDetails = ErorDetailsTools.ConvertXhrToErorDetails(XHR, title, this.CorrelationToken);\r\n                        this.ErrorDialog.Show(erorDetails);\r\n                    }\r\n                }\r\n            );\r\n        return promise;\r\n    }\r\n\r\n    //public ajaxVanilla<T>(url: string, params: any, done: AjaxCallback<T>, title: string, useBlockUi: boolean): JQuery.Promise<any> {\r\n    //    var t0 = performance.now();\r\n    //    if (useBlockUi)\r\n    //        this.blockUi();\r\n    //    var ajaxPromise = this.createAjaxLoadDataPromise<T>(url, params);\r\n    //    //if (useBlockUi)\r\n    //    //    ajaxPromise.always(() => $.unblockUI());\r\n    //    var uiSynchronizedPromise = $.when(ajaxPromise)\r\n    //        .then(\r\n    //        (ajaxData: T, textStatus: string, XHR: XMLHttpRequest, responseJSON: any) => {\r\n    //            try {\r\n    //                var tX = XHR.getResponseHeader(\"X-RL2Server-Duration\");\r\n    //                var t1 = performance.now();\r\n    //                done(ajaxData, textStatus, XHR)\r\n    //                var t2 = performance.now();\r\n    //                var message = (tX != null ? \"\" : tX + \" | \") + (t1 - t0) + \" | \" + (t2 - t0);\r\n    //                //this.LogPerf(this.OperationName + \".ajaxVanilla\", message);\r\n    //            } catch (ex) {\r\n    //                var details = (done != null) ? \"Body: \" + String(done).substring(0, 512) + \"...\" : null;\r\n    //                //this.LogError(ex, details);\r\n    //                var promise = this.ShowErrorDialogJs(ex, details).done(x => {; });\r\n    //                return promise;\r\n    //            }\r\n    //        },\r\n    //        (XHR: XMLHttpRequest, textStatus, errorThrown, responseJSON) =>\r\n    //            this.AjaxFail(title, XHR, XHR.hasOwnProperty(\"responseJSON\") ? XHR[\"responseJSON\"] : responseJSON, textStatus, errorThrown)\r\n    //        );\r\n    //    return uiSynchronizedPromise;\r\n    //}\r\n\r\n    //public createAjaxLoadDataPromise<T>(url: string, params: any): JQuery.Deferred<any> {\r\n    //    var deffered = jQuery.Deferred<any>();\r\n    //    var xhr = new XMLHttpRequest();\r\n    //    xhr.open(\"POST\", url, true);\r\n    //    xhr.setRequestHeader(\"Content-type\", \"application/json; charset=utf-8\");\r\n    //    xhr.setRequestHeader(\"X-CorrelationToken\", this.CorrelationToken);\r\n\r\n    //    xhr.onload = () => {\r\n    //        if (xhr.status >= 200 && xhr.status < 400) {\r\n    //            var responseJSON = JSON.parse(xhr.response);\r\n    //            deffered.resolve(responseJSON, \"\", xhr);\r\n    //        } else {\r\n    //            var responseJSON = JSON.parse(xhr.response);\r\n    //            deffered.reject(xhr, xhr.statusText, xhr.response, responseJSON);\r\n    //        }\r\n    //    };\r\n\r\n    //    xhr.onerror = (ev) => {\r\n    //        deffered.reject(xhr, xhr.status, xhr.statusText);\r\n    //    };\r\n    //    var paramsText = JSON.stringify(params);\r\n    //    xhr.send(paramsText);\r\n    //    return deffered;\r\n    //}\r\n\r\n    //public blockUi() {\r\n    //    //jQuery.blockUI({\r\n    //    //    message: $(\"<div>Wait a moment..</div>\"),\r\n    //    //    css: {\r\n    //    //        fontSize: \"400%\",\r\n    //    //        fontWeight: \"900\",\r\n    //    //        color: \"white\",\r\n    //    //        background: \"none\",\r\n    //    //        border: \"none\"\r\n    //    //    },\r\n    //    //    overlayCSS: {\r\n    //    //        backgroundColor: \"rgba(58, 124, 158, 1.2)\"\r\n    //    //    }\r\n    //    //});\r\n    //}\r\n\r\n    // TODO: http://habrahabr.ru/post/112960/ - search for saveContact ,\r\n    // somehihng how to organize dialog save\r\n    //private ShowErrorDialog(xhr: XMLHttpRequest, responseJSON: ExceptionDetails, title: string): JQuery.Promise<any> {\r\n    //    var correlationToken = this.CorrelationToken;\r\n    //    var code = xhr.status;\r\n    //    var template =\r\n    //        $('<div><div>'\r\n    //            + (responseJSON == null ?\r\n    //                '<b>Correlation Token: </b><span class=\"erdCorrelationToken\"></span><br/>'\r\n    //                + '<b>Code: </b><span class=\"erdCode\"></span><br/>'\r\n    //                :\r\n    //                ('<b>Server Message: </b><span class=\"erdMessage\"></span><br />'\r\n    //                    + '<b>Exception Type: </b><span class=\"erdExceptionType\"></span><br />'\r\n    //                    + '<b>Exception Message: </b><span class=\"erdExceptionMessage\"></span><br />'\r\n    //                    + '<b>Controller: </b><span class=\"erdController\"></span><br />'\r\n    //                    + '<b>Action: </b><span class=\"erdAction\"></span><br/>'\r\n    //                    + '<b>Correlation Token: </b><span class=\"erdCorrelationToken\"></span><br/>'\r\n    //                    + '<br/><b>Stack:</b>'\r\n    //                    + '<pre  class=\"erdStackTrace\"></pre>'))\r\n    //            + (responseJSON != null ? '' : '<br/><b>Serialised to string:</b>'\r\n    //                + '<pre class=\"erdSerialised\"></pre>')\r\n    //            + '</div></div></div>');\r\n    //    template.find('.erdCorrelationToken').text(correlationToken);\r\n    //    if (responseJSON != null) {\r\n    //        template.find('.erdMessage').text(responseJSON.Message);\r\n    //        template.find('.erdExceptionType').text(responseJSON.ExceptionType);\r\n    //        template.find('.erdExceptionMessage').text(responseJSON.ExceptionMessage);\r\n    //        template.find('.erdController').text(responseJSON.Controller);\r\n    //        template.find('.erdAction').text(responseJSON.Action);\r\n    //        console.log(\"e1\");\r\n    //        template.find('.erdStackTrace').text(responseJSON.TechInfo);\r\n\r\n    //    } else {\r\n    //        if (JSON != null && JSON.stringify != null) {\r\n    //            var serialised = '';\r\n    //            if (xhr.responseText != null && xhr.responseText.indexOf(\"<!DOCTYPE html\") == 0) {\r\n    //                // TODO: add indents (it is impossible to parse and get body but text can be improoved)\r\n    //                var serialised = JSON.stringify(xhr)\r\n    //                template.find('.erdSerialised').text(serialised);\r\n    //            } else {\r\n    //                var serialised = JSON.stringify(xhr)\r\n    //                template.find('.erdSerialised').text(serialised);\r\n    //            }\r\n\r\n    //            template.find('.erdCode').text(xhr.status);\r\n    //        }\r\n    //    }\r\n    //    var details = template.html();\r\n\r\n    //    var message = \"\";\r\n    //    var techTitle = \"\";\r\n    //    if (responseJSON != null && responseJSON.IsUser == true) {\r\n    //        //title = \"Prohibited behaviour\";\r\n    //        message = responseJSON.ExceptionMessage;\r\n    //    }\r\n    //    else {\r\n    //        var messageMap = {\r\n    //            '400': \"Server understood the request, but request content was invalid. 95% of the time this is because of a problem on the client system e.g. there is something unstable in the web application running the Web browser. Please contact system Administrator.\",\r\n    //            '401': \"Access to the URL resource requires user authentication which has not yet been provided or which has been provided but failed authorization tests.\",\r\n    //            '403': \"Forbidden resource can't be accessed. Web server gives this response without providing any reason.\",\r\n    //            '404': \"The requested resource not found.\",\r\n    //            '500': \"It looks as though we've not covered something in on our system. Please contact the system administrator.\",\r\n    //            '503': \"The Web server is currently unable to handle your request due to a temporary overloading or maintenance of the server.\"\r\n    //        };\r\n\r\n    //        var titleMap = {\r\n    //            '400': \"Bad request error (400)\",\r\n    //            '401': \"Unauthorized access (401)\",\r\n    //            '403': \"Forbidden (403)\",\r\n    //            '404': \"Not found (404)\",\r\n    //            '500': \"Internal Server Error (500)\",\r\n    //            '503': \"Service unavailable (503)\"\r\n    //        };\r\n\r\n    //        techTitle = titleMap[code];\r\n    //        message = messageMap[code];\r\n    //        if (techTitle == null) {\r\n    //            techTitle = \"Programming Mistake\";\r\n    //            message = messageMap[\"500\"];\r\n    //        }\r\n    //        message = techTitle + \". \" + message\r\n    //    }\r\n    //    var wholeTitle = '<span class=\"glyphicon glyphicon-exclamation-sign\" aria-hidden=\"true\"></span> ' + title;\r\n    //    return this.ShowExpandableDialog(wholeTitle, message, template);\r\n    //}\r\n\r\n\r\n\r\n    //private ShowExpandableDialog(title: string, message: string, template: JQuery): JQuery.Promise<any> {\r\n    //    var defered = $.Deferred();\r\n    //    var x = (result) => defered.resolve(result);\r\n\r\n    //    $('#errorDialogModal').modal('show');\r\n    //    //var dialog = BootstrapDialog.alert({\r\n    //    //    type: BootstrapDialog.TYPE_DANGER,\r\n    //    //    closable: true,\r\n    //    //    title: title,\r\n    //    //    message: message,\r\n    //    //    callback: (result) => defered.resolve(result)\r\n    //    //})\r\n\r\n    //    var details = template.html();\r\n    //    //if (details == null) {\r\n    //    //    dialog.getModalFooter().hide();\r\n    //    //}\r\n    //    //else {\r\n    //        //var $q = dialog.getModalFooter().html(\r\n    //        //    '<div class=\"span4 collapse-group\">'\r\n    //        //    + '<a class=\"btn btn-danger collapse-button\" data-toggle=\"collapse\">View details &raquo;</a>'\r\n    //        //    + '<div class=\"collapse\" style=\"margin-top:1em;text-align:left;\">' + details + '</div>'\r\n    //        //    + '</div>')\r\n    //        //    .css('text-align', 'left');\r\n    //        //$q.find('.collapse-button').on('click',\r\n    //        //    () => {\r\n    //        //        $q.find('.collapse').collapse('toggle')\r\n    //        //    }\r\n    //        //)\r\n    //        //$q.find('.collapse')\r\n    //        //    .on('shown.bs.collapse.in',\r\n    //        //    (e) => {\r\n    //        //        dialog.getModalFooter().closest('.modal-backdrop')\r\n    //        //            .height(\r\n    //        //            Math.max($('.modal-backdrop').height(),\r\n    //        //                $('.bootstrap-dialog')[0].scrollHeight));\r\n    //        //    })\r\n    //        //    .on('hidden.bs.collapse.in',\r\n    //        //    (e) => {\r\n    //        //        $('.modal-backdrop').height(\r\n    //        //            $(document).height());\r\n    //        //    });\r\n    //    //}\r\n\r\n    //    return defered.promise();\r\n    //}\r\n\r\n    //private ShowErrorNotify(title: string) {\r\n    //    $(document).ready(function () { dc_notify_error(title) });\r\n    //}\r\n\r\n    //public ShowErrorDialogDefered(xhr, title): JQuery.Promise<any> {\r\n    //    var erorDetails = ErorDetailsTools.ConvertXhrToErorDetails(xhr, title, this.CorrelationToken);\r\n    //    return this.ShowErrorDialogInternalDefered(erorDetails);\r\n    //}\r\n\r\n    //public ShowErrorDialogInternalDefered(erorDetails: ErorDetails): JQuery.Promise<any> {\r\n    //    var defered = $.Deferred();\r\n    //    this.ErrorDialog.Show(erorDetails);\r\n    //    this.ErrorDialog.OnClosed(defered);\r\n    //    return defered.promise();\r\n    //}\r\n}\r\n\r\nclass ErrorDialog {\r\n    $errodDialog: any;\r\n\r\n    constructor($errodDialog) {\r\n        this.$errodDialog = $errodDialog;\r\n    }\r\n\r\n    public Show(erorDetails: ErorDetails) {\r\n        this.$errodDialog.find('.adminka-error-title').text(erorDetails.title);\r\n        if (erorDetails.correlationToken) {\r\n            this.$errodDialog.find('.adminka-error-text-field-correlation-token').text(erorDetails.correlationToken);\r\n            this.$errodDialog.find('.adminka-error-text-field-correlation-token').parent().show();\r\n        }\r\n        else\r\n            this.$errodDialog.find('.adminka-error-text-field-correlation-token').parent().hide();\r\n\r\n        if (erorDetails.showAdvanced) {\r\n            this.$errodDialog.find('.adminka-error-advanced').show();\r\n            this.$errodDialog.find('.adminka-error-text-field-asp-request').text(erorDetails.aspRequestId || \"\");\r\n            this.$errodDialog.find('.adminka-error-text-field-message').hide();\r\n            this.$errodDialog.find('.adminka-error-details')[0].innerHTML = erorDetails.htmlMessage || \"\";\r\n        } else {\r\n            this.$errodDialog.find('.adminka-error-advanced').hide();\r\n            this.$errodDialog.find('.adminka-error-text-field-message').show();\r\n            this.$errodDialog.find('.adminka-error-text-field-message').text(erorDetails.message || \"\");\r\n        }\r\n\r\n        this.$errodDialog.modal('show');\r\n    }\r\n\r\n    public OnClosed(defered: JQuery.Deferred<any, any, any>) {\r\n        this.$errodDialog.on('hidden.bs.modal', function (e) {\r\n            defered.resolve(e);\r\n        })\r\n    }\r\n}\r\n\r\nclass ToastFactory {\r\n    $footer: any;\r\n    $toast: any;\r\n\r\n    constructor($footer, $toast ) {\r\n        this.$footer = $footer;\r\n        this.$toast = $toast;\r\n    }\r\n\r\n    public Show(message: string) {\r\n        this.$toast.find('.toast-header strong').text(message);\r\n        this.$toast.toast('show');\r\n    }\r\n\r\n    public CreateToast() {\r\n        var template =\r\n        '<div class=\"toast\" data-delay=\"1000\" data-autohide=\"false\" role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\">'+\r\n        '<div class=\"toast-header\">'+\r\n            //'<img src=\"...\" class=\"rounded mr-2\" alt=\"...\">'+\r\n            //'<strong class=\"mr-auto\">Bootstrap</strong>'+\r\n            '<small class=\"text-muted\">just now</small>'+\r\n            '<button type=\"button\" class=\"ml-2 mb-1 close\" data-dismiss=\"toast\" aria-label=\"Close\">'+\r\n                '<span aria-hidden=\"true\">&times;</span>'+\r\n            '</button>'+\r\n        '</div>'+\r\n        '<div class=\"toast-body\">See? Just like this.</div>'+\r\n        '</div>'\r\n    }\r\n}\r\n\r\nclass BlockDialog {\r\n    $blockDialog: any;\r\n\r\n    constructor($blockDialog) {\r\n        this.$blockDialog = $blockDialog; \r\n    }\r\n\r\n    public Block() {\r\n        this.$blockDialog.modal({\r\n            backdrop: 'static',\r\n            keyboard: false\r\n        });\r\n    }\r\n\r\n    public Unblock() {\r\n        this.$blockDialog.modal('hide');\r\n    }\r\n\r\n    public OnClosed(defered: JQuery.Deferred<any, any, any>) {\r\n        this.$blockDialog.on('hidden.bs.modal', function (e) {\r\n            defered.resolve(e);\r\n        })\r\n    }\r\n}\r\n\r\nconst StatusConstants = {\r\n    MessageMap : {\r\n        '400': \"Server understood the request, but request content was invalid. 95% of the time this is because of a problem on the client system e.g. there is something unstable in the web application running the Web browser. Please contact system Administrator.\",\r\n        '401': \"Access to the URL resource requires user authentication which has not yet been provided or which has been provided but failed authorization tests.\",\r\n        '403': \"Forbidden resource can't be accessed. Web server gives this response without providing any reason.\",\r\n        '404': \"The requested resource not found.\",\r\n        '500': \"It looks as though we've not covered something in on our system. Please contact the system administrator.\",\r\n        '503': \"The Web server is currently unable to handle your request due to a temporary overloading or maintenance of the server.\"\r\n    },\r\n\r\n    TitleMap : {\r\n        '400': \"Bad request error (400)\",\r\n        '401': \"Unauthorized access (401)\",\r\n        '403': \"Forbidden (403)\",\r\n        '404': \"Not found (404)\",\r\n        '500': \"Internal Server Error (500)\",\r\n        '503': \"Service unavailable (503)\"\r\n    }\r\n}\r\n\r\nexport const ErorDetailsTools = {\r\n    ConvertXhrToErorDetails(xhr, title, localCorrelationToken: string): ErorDetails {\r\n        console.log(xhr);\r\n        var isUserMessage = false;\r\n        if (xhr.status === 403)\r\n            isUserMessage = true;\r\n        var showAdvanced = false;\r\n        if (xhr.responseJSON && xhr.responseJSON.isAdminPrivilege && !isUserMessage) {\r\n            showAdvanced = true;\r\n        }\r\n        var message = xhr.responseText;\r\n        if (xhr.responseJSON == null && (xhr.status === 400 || xhr.status === 401\r\n            || xhr.status === 403 || xhr.status === 404 || xhr.status === 500 || xhr.status === 503)) {\r\n            message = StatusConstants.TitleMap[xhr.status] + \". \" + StatusConstants.MessageMap[xhr.status];\r\n        }\r\n        if (xhr.responseJSON && xhr.responseJSON.message)\r\n            message = xhr.responseJSON.message;\r\n        var aspRequestId = null;\r\n        if (xhr.responseJSON && xhr.responseJSON.aspRequestId)\r\n            aspRequestId = xhr.responseJSON.aspRequestId;\r\n        var correlationToken = xhr.getResponseHeader('X-CorrelationToken') || localCorrelationToken;\r\n        var htmlMessage = \"\";\r\n        if (xhr.responseJSON && xhr.responseJSON.htmlMessage)\r\n            htmlMessage = xhr.responseJSON.htmlMessage;\r\n        var erorDetails = new ErorDetails(showAdvanced, title, message, htmlMessage, correlationToken, aspRequestId);\r\n        return erorDetails;\r\n    },\r\n\r\n    ConvertExceptionErorDetails(ex: any, logBuffer: string[] | null, localCorrelationToken: string): ErorDetails {\r\n        var showAdvanced = true;\r\n        var title = 'JavaScript Exception';\r\n        var details = ex.description != null ? ex.description : ex;\r\n        var bufferText = \"\";\r\n        if (logBuffer) {\r\n            bufferText = logBuffer.join('\\n');\r\n        }\r\n        details = details + '\\n\\n' + String(ex) + '\\n' + bufferText;\r\n        details = details + '\\n\\n' + (ex.stack != null) ? ex.stack : \"\";\r\n        var htmlMessage = $('span').text(details)[0].innerHTML;\r\n        var erorDetails = new ErorDetails(showAdvanced, title, null, htmlMessage, localCorrelationToken, null);\r\n        return erorDetails;\r\n    }\r\n}\r\n\r\n\r\n","import 'jquery'; // should be manually loaded first in order since '@dashboardcode/bsmultiselect' do not require it as dependency and can be loaded first // TODO create @dashboardcode/bsmultiselect.jQuery\r\nimport '@popperjs/core'; // do not use aliases for jquery and '@popperjs/core' since exact names are required by bootstrap and bsmultiselect\r\nimport 'bootstrap#umd'; // requires jquery and popper\r\nimport '@dashboardcode/bsmultiselect#umd'; // requires popper\r\n\r\n//import 'moment'; // loaded by expose-loader\r\n\r\nimport 'datatables.net-bs5'; // this will bring dataTabales.js\r\nimport 'datatables.net-select-bs5';\r\nimport 'datatables.net-buttons#buttons.colVis';\r\nimport 'datatables.net-buttons-bs5';\r\n\r\nimport 'daterangepicker';\r\nimport 'jquery-validation';\r\nimport 'jquery-validation-unobtrusive';\r\n\r\nimport 'jstree';\r\n\r\nimport './index.scss';\r\nimport './site';\r\n\r\nconsole.log({ msg: 'webpack entry end', window: window, global: global, g_jQuery: global.jQuery, w_jQuery: window.jQuery, w_$: window.$, moment: window.moment, bootstrap: window.bootstrap, popper: window.createPopper,  })","//import '@babel/polyfill';\r\nimport Application from './Application';\r\nimport { createPopper } from '@popperjs/core';\r\n\r\n// FYI: we use webpack' preset-env 'usage' option and that means no need of direct ES polyfill loading\r\n// import '@babel/polyfill'; \r\n\r\n// TODO: investigate why this was not handled by usage? \r\nimport \"core-js/modules/es.array.includes\";\r\n\r\n// FYI: web polyfills from https://cdn.polyfill.io/v3/url-builder/\r\n// https://polyfill.io/v3/polyfill.js?flags=always%7Cgated&features=Element.prototype.closest%2CElement.prototype.classList%2CElement.prototype.matches\r\n// 'Element.prototype.matches', 'Element.prototype.closest', 'Element.prototype.classList'\r\n// options: minify=NO, real user monitoring=no, feature detect=YES, always load=YES\r\n\r\nimport './polyfill_io';\r\n\r\n// TODO: wait for polyfill-injectors synchronized loading of run-time scripts (async are not compatable with inline code)\r\n// This is alternative to webpack configuration:\r\n// import main from 'webpack-polyfill-injector?{modules:[\"./src/index.es8.js\"]}!';  // will load polyfills (if necessary) and then start your normal entry module\r\n\r\n// TODO migrate those popper v1 to v2 settings\r\n//Popper.Defaults.modifiers.computeStyle.gpuAcceleration = !(window.devicePixelRatio < 1.5 && /Win/.test(navigator.platform));\r\n//Popper.Defaults.modifiers.preventOverflow = { enabled: false };\r\n//Popper.Defaults.modifiers.flip = { enabled: false };\r\n\r\n// default bootstrap popover can't be setuped with dedicated element, this do the trick\r\n$(document).ready(function () {\r\n    $('[data-toggle=\"popover-content\"]').popover({\r\n        html: true,\r\n        content: function () {\r\n            return $('#popover-content').html();\r\n        }\r\n    });\r\n});\r\n\r\nwindow.AdminkaApp = new Application(window);\r\nwindow.AdminkaApp.Es8TranspilerTest();\r\nwindow.createPopper = createPopper;","// extracted by mini-css-extract-plugin\nexport {};"],"sourceRoot":""}