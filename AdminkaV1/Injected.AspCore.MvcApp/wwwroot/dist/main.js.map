{"version":3,"sources":["webpack:///./src/Es8Test.js","webpack:///./src/WorkflowManager.ts","webpack:///./src/index.js","webpack:///./src/index.scss?cea4","webpack:///./src/site.js"],"names":["Es8Test","GetMessage","Promise","resolve","setTimeout","object","x","y","values","Object","message","WorkflowManager","operationName","logBuffer","correlationToken","NewGuid","replace","c","r","Math","random","v","toString","action","workflow","Workflow","ex","joinedInfo","join","LogError","ShowErrorDialogJs","ExceptionDetails","IsUser","Message","ExceptionType","ExceptionMessage","Controller","Action","TechInfo","logErrorUrl","logPerfUrl","OperationName","CorrelationToken","errMessage","xhr","responseJSON","textStatus","errorThrown","stack","errMessagePack","responseText","fullMessage","ajaxSettings","type","url","cache","headers","data","isError","$","ajax","fileName","document","location","out","name","msg","console","log","String","counterName","value","title","LogAjaxError","arguments","callee","trace","ShowErrorDialog","ajaxPromise","done","userError","promise","when","then","ajaxData","XHR","details","substring","responceJsonHandled","hasOwnProperty","AjaxFail","params","useBlockUi","t0","performance","now","blockUi","createAjaxLoadDataPromise","uiSynchronizedPromise","tX","getResponseHeader","t1","t2","LogPerf","deffered","jQuery","Deferred","XMLHttpRequest","open","setRequestHeader","onload","status","JSON","parse","response","reject","statusText","onerror","ev","paramsText","stringify","send","code","template","find","text","serialised","indexOf","html","techTitle","messageMap","titleMap","wholeTitle","ShowExpandableDialog","bufferText","description","defered","result","modal","ready","dc_notify_error","Popper","Defaults","modifiers","computeStyle","gpuAcceleration","window","devicePixelRatio","test","navigator","platform","preventOverflow","enabled","flip","es8test","run","vm","ShowExceptionModal"],"mappings":"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","file":"main.js","sourcesContent":["export default class Es8Test {\r\n    constructor() {\r\n    }\r\n\r\n    async run() {\r\n        function GetMessage() {\r\n            return new Promise(resolve => {\r\n                setTimeout(() => {\r\n                    const object = { x: 'es8', y: 1 };\r\n                    const values = Object.values(object);\r\n                    resolve(values[0]);\r\n                }, 100);\r\n            });\r\n        }\r\n\r\n        const message = await GetMessage();\r\n        //console.log(`This is ${message}`, );\r\n    }\r\n}","import Popper from 'popper.js';\r\n\r\ndeclare var dc_showErrorDialog: any;\r\ndeclare var dc_showErrorDialogJs: any;\r\ndeclare var dc_notify_error: any;\r\n\r\n\r\n    export interface VoidAction {\r\n        (WorkflowManager: Workflow): void;\r\n    }\r\n\r\n    export interface Action<T> {\r\n        (WorkflowManager: Workflow): T;\r\n    } \r\n\r\n    export interface AjaxCallback<T> {\r\n        (ajaxData: T, textStatus: string, xhr: XMLHttpRequest): void;\r\n    }\r\n\r\n    export interface AjaxError {\r\n        (textStatus: string): void;\r\n    }\r\n\r\n    export default class WorkflowManager {\r\n        public operationName: string;\r\n        public correlationToken: string;\r\n        private logBuffer = [];\r\n\r\n        constructor(operationName: string) {\r\n            this.operationName = operationName;\r\n            this.correlationToken = this.NewGuid();\r\n        }\r\n\r\n        private NewGuid(): string {\r\n            return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n                var r = Math.random() * 16 | 0, v = c === 'x' ? r : (r & 0x3 | 0x8);\r\n                return v.toString(16);\r\n            });\r\n        };\r\n\r\n        public ProcessVoid(action: VoidAction) {\r\n            var workflow = new Workflow(this.operationName, this.correlationToken);\r\n            // todo: analize action like\r\n            //var logstack = function () {\r\n            //    var stack = (arguments != null && arguments.callee != null && (<any>arguments.callee).trace) ? (<any>arguments.callee).trace() : null;\r\n            //    this.logBuffer.push(stack);\r\n            //}\r\n            try {\r\n                //todo: get more information from f\r\n                action(workflow);\r\n                // todo: why not  f.call(invoc);\r\n            } catch (ex) {\r\n                var joinedInfo = this.logBuffer.join('\\n');\r\n                workflow.LogError(ex, joinedInfo);\r\n                workflow.ShowErrorDialogJs(ex, joinedInfo);\r\n            }\r\n        }\r\n\r\n        public Process<T>(action: Action<T>){\r\n            var workflow = new Workflow(this.operationName, this.correlationToken);\r\n            try {\r\n                \r\n                return action(workflow);\r\n            } catch (ex) {\r\n                var joinedInfo = this.logBuffer.join('\\n');\r\n                workflow.LogError(ex, joinedInfo);\r\n                workflow.ShowErrorDialogJs(ex, joinedInfo);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    class ExceptionDetails {\r\n        public IsUser: boolean;\r\n        public Message: string;\r\n        public ExceptionType: string;\r\n        public ExceptionMessage: string;\r\n        public Controller: string;\r\n        public Action: string;\r\n        public TechInfo: string;\r\n\r\n        constructor(IsUser: boolean, Message: string, ExceptionType: string, ExceptionMessage: string, Controller: string, Action: string, TechInfo: string ) {\r\n            this.IsUser = IsUser;\r\n            this.Message = Message;\r\n\r\n            this.ExceptionType = ExceptionType;\r\n            this.ExceptionMessage = ExceptionMessage;\r\n            this.Controller = Controller;\r\n            this.Action = Action;\r\n            this.TechInfo = TechInfo;\r\n        }\r\n    }\r\n\r\n    \r\n    export class Workflow {\r\n        public OperationName: string;\r\n        public CorrelationToken: string;\r\n        private logErrorUrl = '/Error/LogBrowserMessage';\r\n        private logPerfUrl = '/Error/WriteBrowserPerfomanceCounter';\r\n\r\n        constructor(operationName: string, correlationToken: string) {\r\n            this.OperationName = operationName;\r\n            this.CorrelationToken = correlationToken;\r\n        }\r\n\r\n        \r\n        public LogAjaxError(errMessage: string, xhr: XMLHttpRequest, responseJSON: ExceptionDetails, textStatus: string, errorThrown: string, stack: string) {\r\n\r\n            if (errMessage == null) return;\r\n            if (responseJSON != null && responseJSON.IsUser) {\r\n                return;\r\n            }\r\n            var errMessagePack = errMessage + \"; textStatus:\" + textStatus + \"; errorThrown\" + errorThrown + \"; xhr:\" + xhr.responseText;\r\n\r\n            var fullMessage = errMessagePack;\r\n            if (stack != null) fullMessage += \"\\n  at \" + (stack == \"\" ? \"(stack unachived)\" : stack);\r\n            var logErrorUrl = this.logErrorUrl;\r\n            var correlationToken = this.CorrelationToken;\r\n            var operationName = this.OperationName;\r\n            // send error message\r\n            var ajaxSettings: JQueryAjaxSettings = {\r\n                type: 'POST',\r\n                url: logErrorUrl,\r\n                cache: false,\r\n                headers: { \"X-CorrelationToken\": correlationToken },\r\n                data: { message: fullMessage, isError: true, operationName: operationName, correlationToken: correlationToken }\r\n            }\r\n            $.ajax(ajaxSettings);\r\n        }\r\n\r\n        public LogError(ex: any, stack: string|null) {\r\n            if (ex == null) return;\r\n\r\n            var url = ex.fileName != null ? ex.fileName : document.location;\r\n            if (stack == null && ex.stack != null) stack = ex.stack;\r\n\r\n            // format output\r\n            var out = ex.message != null ? ex.name + \": \" + ex.message : ex;\r\n            out += \": at document path '\" + url + \"'.\";\r\n            if (stack != null) out += \"\\n  at \" + (stack == \"\" ? \"(unachived)\" : stack);\r\n            var logErrorUrl = this.logErrorUrl;\r\n            var correlationToken = this.CorrelationToken;\r\n            var operationName = this.OperationName;\r\n            // send error message\r\n            $.ajax({\r\n                type: 'POST',\r\n                url: logErrorUrl,\r\n                cache: false,\r\n                headers: { \"X-CorrelationToken\": correlationToken },\r\n                data: { message: out, isError: true, operationName: operationName, correlationToken: correlationToken }\r\n            });\r\n        }\r\n        \r\n        public LogMessage(msg: string) {\r\n            if (msg == null)\r\n                return;\r\n\r\n            if (console != null)\r\n                console.log(msg);\r\n\r\n            var logErrorUrl = this.logErrorUrl;\r\n            var correlationToken = this.CorrelationToken;\r\n            var operationName = this.OperationName;\r\n\r\n            $.ajax({\r\n                type: 'POST',\r\n                url: logErrorUrl,\r\n                cache: false,\r\n                headers: { \"X-CorrelationToken\": correlationToken },\r\n                data: { message: String(msg), isError: false, operationName: operationName, correlationToken: correlationToken }\r\n            });\r\n        }\r\n\r\n        public LogPerf(counterName, value) {\r\n            if (counterName == null) return;\r\n            var logPerfUrl = this.logPerfUrl;\r\n            var correlationToken = this.CorrelationToken;\r\n            var operationName = this.OperationName;\r\n\r\n            $.ajax({\r\n                type: 'POST',\r\n                url: logPerfUrl,\r\n                cache: false,\r\n                headers: { \"X-CorrelationToken\": correlationToken },\r\n                data: { 'counterName': counterName, 'value': value }\r\n            });\r\n        }\r\n\r\n        public AjaxFail(title, xhr: XMLHttpRequest, responseJSON: ExceptionDetails, textStatus, errorThrown): JQuery.Promise<any> {\r\n            this.LogAjaxError(title, xhr, responseJSON, textStatus, errorThrown,\r\n                (arguments != null && arguments.callee != null && (<any>arguments.callee).trace) ? (<any>arguments.callee).trace() : null);\r\n            if (title == null)\r\n                title = \"Error\"\r\n            return this.ShowErrorDialog(xhr, responseJSON, title);\r\n        }\r\n\r\n        //public ajax<T>(): WorkflowDeferredManager<T> {\r\n        //    var workflowDeferredManager =  new WorkflowDeferredManager();\r\n        //    return workflowDeferredManager;\r\n        //}\r\n\r\n        // TODO: http://www.svlada.com/override-jquery-ajax-handler/\r\n        // TODO: http://stackoverflow.com/questions/17582239/overriding-the-jquery-ajax-success\r\n\r\n\r\n        public ajax<T>(ajaxPromise: JQuery.Promise<any>, done: AjaxCallback<T>, title: string, userError: AjaxError|null = null): JQuery.Promise<any> {\r\n            var promise = $.when(ajaxPromise)\r\n                .then(\r\n                (ajaxData: T, textStatus: string, XHR: XMLHttpRequest, responseJSON: any) => {\r\n                    try {\r\n                        done(ajaxData, textStatus, XHR)\r\n                    } catch (ex) {\r\n                        var details = (done != null) ? \"Body: \" + String(done).substring(0, 512) + \"...\" : null;\r\n                        this.LogError(ex, details);\r\n                        var promise = this.ShowErrorDialogJs(ex, details).done(x => { ; });\r\n                        return promise;\r\n                    }\r\n                },\r\n                (XHR: XMLHttpRequest, textStatus, errorThrown, responseJSON) => {\r\n                    var responceJsonHandled = XHR.hasOwnProperty(\"responseJSON\") ? XHR[\"responseJSON\"] : responseJSON;\r\n                    if (userError != null && responceJsonHandled && responceJsonHandled.IsUser)\r\n                        userError(responceJsonHandled.ExceptionMessage);\r\n                    else\r\n                        this.AjaxFail(title, XHR, responceJsonHandled, textStatus, errorThrown);\r\n                }\r\n                );\r\n            return promise;\r\n        }\r\n\r\n        public ajaxVanilla<T>(url: string, params: any, done: AjaxCallback<T>, title: string, useBlockUi: boolean): JQuery.Promise<any> {\r\n            var t0 = performance.now();\r\n            if (useBlockUi)\r\n                this.blockUi();\r\n            var ajaxPromise = this.createAjaxLoadDataPromise<T>(url, params);\r\n            //if (useBlockUi)\r\n            //    ajaxPromise.always(() => $.unblockUI());\r\n            var uiSynchronizedPromise = $.when(ajaxPromise)\r\n                .then(\r\n                (ajaxData: T, textStatus: string, XHR: XMLHttpRequest, responseJSON: any) => {\r\n                    try {\r\n                        var tX = XHR.getResponseHeader(\"X-RL2Server-Duration\");\r\n                        var t1 = performance.now();\r\n                        done(ajaxData, textStatus, XHR)\r\n                        var t2 = performance.now();\r\n                        var message = (tX != null ? \"\" : tX + \" | \") + (t1 - t0) + \" | \" + (t2 - t0);\r\n                        this.LogPerf(this.OperationName + \".ajaxVanilla\", message);\r\n                    } catch (ex) {\r\n                        var details = (done != null) ? \"Body: \" + String(done).substring(0, 512) + \"...\" : null;\r\n                        this.LogError(ex, details);\r\n                        var promise = this.ShowErrorDialogJs(ex, details).done(x => {; });\r\n                        return promise;\r\n                    }\r\n                },\r\n                (XHR: XMLHttpRequest, textStatus, errorThrown, responseJSON) =>\r\n                    this.AjaxFail(title, XHR, XHR.hasOwnProperty(\"responseJSON\") ? XHR[\"responseJSON\"] : responseJSON, textStatus, errorThrown)\r\n                );\r\n            return uiSynchronizedPromise;\r\n        }\r\n\r\n        public createAjaxLoadDataPromise<T>(url: string, params: any): JQuery.Deferred<any> {\r\n            var deffered = jQuery.Deferred<any>();\r\n            var xhr = new XMLHttpRequest();\r\n            xhr.open(\"POST\", url, true);\r\n            xhr.setRequestHeader(\"Content-type\", \"application/json; charset=utf-8\");\r\n            xhr.setRequestHeader(\"X-CorrelationToken\", this.CorrelationToken);\r\n\r\n            xhr.onload = () => {\r\n                if (xhr.status >= 200 && xhr.status < 400) {\r\n                    var responseJSON = JSON.parse(xhr.response);\r\n                    deffered.resolve(responseJSON, \"\", xhr);\r\n                } else {\r\n                    var responseJSON = JSON.parse(xhr.response);\r\n                    deffered.reject(xhr, xhr.statusText, xhr.response, responseJSON);\r\n                }\r\n            };\r\n\r\n            xhr.onerror = (ev) => {\r\n                deffered.reject(xhr, xhr.status, xhr.statusText);\r\n            };\r\n            var paramsText = JSON.stringify(params);\r\n            xhr.send(paramsText);\r\n            return deffered;\r\n        }\r\n\r\n        public blockUi() {\r\n            //jQuery.blockUI({\r\n            //    message: $(\"<div>Wait a moment..</div>\"),\r\n            //    css: {\r\n            //        fontSize: \"400%\",\r\n            //        fontWeight: \"900\",\r\n            //        color: \"white\",\r\n            //        background: \"none\",\r\n            //        border: \"none\"\r\n            //    },\r\n            //    overlayCSS: {\r\n            //        backgroundColor: \"rgba(58, 124, 158, 1.2)\"\r\n            //    }\r\n            //});\r\n        }\r\n\r\n        // TODO: http://habrahabr.ru/post/112960/ - search for saveContact ,\r\n        // somehihng how to organize dialog save\r\n        private ShowErrorDialog(xhr: XMLHttpRequest, responseJSON: ExceptionDetails, title: string): JQuery.Promise<any> {\r\n            var correlationToken = this.CorrelationToken;\r\n            var code = xhr.status;\r\n            var template =\r\n                $('<div><div>'\r\n                    + (responseJSON == null ?\r\n                        '<b>Correlation Token: </b><span class=\"erdCorrelationToken\"></span><br/>'\r\n                        + '<b>Code: </b><span class=\"erdCode\"></span><br/>'\r\n                        :\r\n                        ('<b>Server Message: </b><span class=\"erdMessage\"></span><br />'\r\n                            + '<b>Exception Type: </b><span class=\"erdExceptionType\"></span><br />'\r\n                            + '<b>Exception Message: </b><span class=\"erdExceptionMessage\"></span><br />'\r\n                            + '<b>Controller: </b><span class=\"erdController\"></span><br />'\r\n                            + '<b>Action: </b><span class=\"erdAction\"></span><br/>'\r\n                            + '<b>Correlation Token: </b><span class=\"erdCorrelationToken\"></span><br/>'\r\n                            + '<br/><b>Stack:</b>'\r\n                            + '<pre  class=\"erdStackTrace\"></pre>'))\r\n                    + (responseJSON != null ? '' : '<br/><b>Serialised to string:</b>'\r\n                        + '<pre class=\"erdSerialised\"></pre>')\r\n                    + '</div></div></div>');\r\n            template.find('.erdCorrelationToken').text(correlationToken);\r\n            if (responseJSON != null) {\r\n                template.find('.erdMessage').text(responseJSON.Message);\r\n                template.find('.erdExceptionType').text(responseJSON.ExceptionType);\r\n                template.find('.erdExceptionMessage').text(responseJSON.ExceptionMessage);\r\n                template.find('.erdController').text(responseJSON.Controller);\r\n                template.find('.erdAction').text(responseJSON.Action);\r\n                console.log(\"e1\");\r\n                template.find('.erdStackTrace').text(responseJSON.TechInfo);\r\n\r\n            } else {\r\n                if (JSON != null && JSON.stringify != null) {\r\n                    var serialised = '';\r\n                    if (xhr.responseText != null && xhr.responseText.indexOf(\"<!DOCTYPE html\") == 0) {\r\n                        // TODO: add indents (it is impossible to parse and get body but text can be improoved)\r\n                        var serialised = JSON.stringify(xhr)\r\n                        template.find('.erdSerialised').text(serialised);\r\n                    } else {\r\n                        var serialised = JSON.stringify(xhr)\r\n                        template.find('.erdSerialised').text(serialised);\r\n                    }\r\n\r\n                    template.find('.erdCode').text(xhr.status);\r\n                }\r\n            }\r\n            var details = template.html();\r\n\r\n            var message = \"\";\r\n            var techTitle = \"\";\r\n            if (responseJSON != null && responseJSON.IsUser == true) {\r\n                //title = \"Prohibited behaviour\";\r\n                message = responseJSON.ExceptionMessage;\r\n            }\r\n            else {\r\n                var messageMap = {\r\n                    '400': \"Server understood the request, but request content was invalid. 95% of the time this is because of a problem on the client system e.g. there is something unstable in the web application running the Web browser. Please contact system Administrator.\",\r\n                    '401': \"Access to the URL resource requires user authentication which has not yet been provided or which has been provided but failed authorization tests.\",\r\n                    '403': \"Forbidden resource can't be accessed. Web server gives this response without providing any reason.\",\r\n                    '404': \"The requested resource not found.\",\r\n                    '500': \"It looks as though we've not covered something in on our system. Please contact the system administrator.\",\r\n                    '503': \"The Web server is currently unable to handle your request due to a temporary overloading or maintenance of the server.\"\r\n                };\r\n\r\n                var titleMap = {\r\n                    '400': \"Bad request error (400)\",\r\n                    '401': \"Unauthorized access (401)\",\r\n                    '403': \"Forbidden (403)\",\r\n                    '404': \"Not found (404)\",\r\n                    '500': \"Internal Server Error (500)\",\r\n                    '503': \"Service unavailable (503)\"\r\n                };\r\n\r\n                techTitle = titleMap[code];\r\n                message = messageMap[code];\r\n                if (techTitle == null) {\r\n                    techTitle = \"Programming Mistake\";\r\n                    message = messageMap[\"500\"];\r\n                }\r\n                message = techTitle + \". \" + message\r\n            }\r\n            var wholeTitle = '<span class=\"glyphicon glyphicon-exclamation-sign\" aria-hidden=\"true\"></span> ' + title;\r\n            return this.ShowExpandableDialog(wholeTitle, message, template);\r\n        }\r\n\r\n        public ShowErrorDialogJs(ex: any, bufferText: string|null) : JQuery.Promise<any>\r\n        {\r\n            var template =\r\n                $('<div><div><p>'\r\n                    + '<b>Exception Message: </b><span class=\"erdExceptionMessage\"></span><br />'\r\n                    + '<b>Correlation Token: </b><span class=\"erdCorrelationToken\"></span></p><div>'\r\n                    + '<b>Stack:</b>'\r\n                    + '<pre class=\"erdStackTrace\"></pre>'\r\n                    + '<b>Serialised to string:</b>'\r\n                    + '<pre class=\"erdSerialised\"></pre>'\r\n                    + '</div></div></div>');\r\n            template.find('.erdExceptionMessage').text(ex.description != null ? ex.description : ex);\r\n            template.find('.erdCorrelationToken').text(this.CorrelationToken);\r\n\r\n            template.find('.erdSerialised').text(String(ex) + '\\n' + bufferText);\r\n            template.find('.erdStackTrace').text((ex.stack != null) ? ex.stack : \"\");\r\n\r\n            var message: string = \"It looks as though we've not covered something in on our system. Please contact the system administrator.\";\r\n            var title: string = '<span class=\"glyphicon glyphicon-exclamation-sign\" aria-hidden=\"true\"></span> ' + 'JavaScript Exception';\r\n\r\n            return this.ShowExpandableDialog(title, message, template);\r\n        }\r\n        \r\n        private ShowExpandableDialog(title: string, message: string, template: JQuery): JQuery.Promise<any> {\r\n            var defered = $.Deferred();\r\n            var x = (result) => defered.resolve(result);\r\n\r\n            $('#errorDialogModal').modal('show');\r\n            //var dialog = BootstrapDialog.alert({\r\n            //    type: BootstrapDialog.TYPE_DANGER,\r\n            //    closable: true,\r\n            //    title: title,\r\n            //    message: message,\r\n            //    callback: (result) => defered.resolve(result)\r\n            //})\r\n\r\n            var details = template.html();\r\n            //if (details == null) {\r\n            //    dialog.getModalFooter().hide();\r\n            //}\r\n            //else {\r\n                //var $q = dialog.getModalFooter().html(\r\n                //    '<div class=\"span4 collapse-group\">'\r\n                //    + '<a class=\"btn btn-danger collapse-button\" data-toggle=\"collapse\">View details &raquo;</a>'\r\n                //    + '<div class=\"collapse\" style=\"margin-top:1em;text-align:left;\">' + details + '</div>'\r\n                //    + '</div>')\r\n                //    .css('text-align', 'left');\r\n                //$q.find('.collapse-button').on('click',\r\n                //    () => {\r\n                //        $q.find('.collapse').collapse('toggle')\r\n                //    }\r\n                //)\r\n                //$q.find('.collapse')\r\n                //    .on('shown.bs.collapse.in',\r\n                //    (e) => {\r\n                //        dialog.getModalFooter().closest('.modal-backdrop')\r\n                //            .height(\r\n                //            Math.max($('.modal-backdrop').height(),\r\n                //                $('.bootstrap-dialog')[0].scrollHeight));\r\n                //    })\r\n                //    .on('hidden.bs.collapse.in',\r\n                //    (e) => {\r\n                //        $('.modal-backdrop').height(\r\n                //            $(document).height());\r\n                //    });\r\n            //}\r\n\r\n            return defered.promise();\r\n        }\r\n\r\n        private ShowErrorNotify(title: string) {\r\n            $(document).ready(function () { dc_notify_error(title) });\r\n        }\r\n    }\r\n\r\n","// import Popper from 'popper.js';\r\n// <script src=\"~/lib/datatables.net/js/jquery.dataTables.js\"></script>\r\nimport 'bootstrap'; // this will ref jquery and popper\r\nimport 'datatables.net-bs4'; // this will ref dataTabales.js\r\nimport 'jquery-validation'; // dist/jquery.validate.js \r\nimport 'jquery-validation-unobtrusive'; // dist/jquery.validate.unobtrusive.js\r\nimport '@dashboardcode/bsmultiselect';\r\nimport './index.scss';\r\nimport './site.js';\r\n","// extracted by mini-css-extract-plugin","//import '@babel/polyfill';\r\nimport Es8Test from './Es8Test';\r\nimport WorkflowManager from './WorkflowManager.ts';\r\nimport Popper from 'popper.js';\r\n//import $ from 'JQuery' \r\n\r\n\r\n// TODO: polyfil injectorss\r\n//import jquery from 'jquery'; // will trigger expose-loader\r\n//import main from 'webpack-polyfill-injector?{modules:[\"./src/index.es8.js\"]}!';  // will load polyfills (if necessary) and then start your normal entry module\r\n\r\n\r\nPopper.Defaults.modifiers.computeStyle.gpuAcceleration = !(window.devicePixelRatio < 1.5 && /Win/.test(navigator.platform));\r\nPopper.Defaults.modifiers.preventOverflow = { enabled: false };\r\nPopper.Defaults.modifiers.flip = { enabled: false };\r\n\r\nlet es8test = new Es8Test();\r\nes8test.run();\r\n\r\n\r\nlet vm = new WorkflowManager(\"testop\");\r\n\r\n\r\n// global level functions, means browser interpretated.\r\n// do not use code that need transpilers there\r\n\r\n\r\nfunction ShowExceptionModal() {\r\n    $(\"#exceptionModal\").modal('toggle');\r\n}\r\n\r\n//// polyfill Element.closest \r\n\r\n//if (!Element.prototype.matches)\r\n//    Element.prototype.matches = Element.prototype.msMatchesSelector ||\r\n//        Element.prototype.webkitMatchesSelector;\r\n\r\n//if (!Element.prototype.closest)\r\n//    Element.prototype.closest = function (s) {\r\n//        var el = this;\r\n//        if (!document.documentElement.contains(el)) return null;\r\n//        do {\r\n//            if (el.matches(s)) return el;\r\n//            el = el.parentElement || el.parentNode;\r\n//        } while (el !== null && el.nodeType === 1);\r\n//        return null;\r\n//    };"],"sourceRoot":""}