/*!
  * DashboardCode BsMultiSelect v0.2.17 (https://dashboardcode.github.io/BsMultiSelect/)
  * Copyright 2017-2018 Roman Pokrovskij (github user rpokrovskij)
  * Licensed under APACHE 2 (https://github.com/DashboardCode/BsMultiSelect/blob/master/LICENSE)
  */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("popper.js"),require("jquery")):"function"==typeof define&&define.amd?define(["popper.js","jquery"],t):t(e.Popper,e.jQuery)}(this,function(a,e){"use strict";a=a&&a.hasOwnProperty("default")?a.default:a,e=e&&e.hasOwnProperty("default")?e.default:e;var i=function(){function e(e,t){this.options=t.extend({},{selectedPanelFocusClass:"focus",selectedPanelDisabledClass:"disabled",selectedItemContentDisabledClass:"disabled",dropDownItemDisabledClass:"disabled"},e)}var t=e.prototype;return t.DisableSelectedItemContent=function(e){e.addClass(this.options.selectedItemContentDisabledClass)},t.DisabledStyle=function(e,t){t?e.addClass(this.options.dropDownItemDisabledClass):e.removeClass(this.options.dropDownItemDisabledClass)},t.Enable=function(e){e.removeClass(this.options.selectedPanelDisabledClass)},t.Disable=function(e){e.addClass(this.options.selectedPanelDisabledClass)},t.FocusIn=function(e){e.addClass(this.options.selectedPanelFocusClass)},t.FocusOut=function(e){e.removeClass(this.options.selectedPanelFocusClass)},e}(),s={"margin-bottom":"0",height:"initial"},n={"padding-left":"0px","line-height":"1.5em"},o={"font-size":"1.5em","line-height":".9em"},l=function(){function e(e,t){this.options=t.extend({},{selectedPanelDefMinHeight:"calc(2.25rem + 2px)",selectedPanelLgMinHeight:"calc(2.875rem + 2px)",selectedPanelSmMinHeight:"calc(1.8125rem + 2px)",selectedPanelDisabledBackgroundColor:"#e9ecef",selectedPanelFocusBorderColor:"#80bdff",selectedPanelFocusBoxShadow:"0 0 0 0.2rem rgba(0, 123, 255, 0.25)",selectedPanelFocusValidBoxShadow:"0 0 0 0.2rem rgba(40, 167, 69, 0.25)",selectedPanelFocusInvalidBoxShadow:"0 0 0 0.2rem rgba(220, 53, 69, 0.25)",filterInputColor:"#495057",selectedItemContentDisabledOpacity:".65",dropdDownLabelDisabledColor:"#6c757d"},e)}var t=e.prototype;return t.OnInit=function(e){e.selectedPanel.css(s),e.filterInput.css("color",this.options.filterInputColor)},t.CreateSelectedItemContent=function(e,t){e.css(n),t.css(o)},t.DisableSelectedItemContent=function(e){e.css("opacity",this.options.selectedItemContentDisabledOpacity)},t.DisabledStyle=function(e,t){e.siblings("label").css("color",t?this.options.dropdDownLabelDisabledColor:"")},t.UpdateSize=function(e){e.hasClass("form-control-lg")?e.css("min-height",this.options.selectedPanelLgMinHeight):e.hasClass("form-control-sm")?e.css("min-height",this.options.selectedPanelSmMinHeight):e.css("min-height",this.options.selectedPanelDefMinHeight)},t.Enable=function(e){e.css({"background-color":""})},t.Disable=function(e){e.css({"background-color":this.options.selectedPanelDisabledBackgroundColor})},t.FocusIn=function(e){e.hasClass("is-valid")?e.css("box-shadow",this.options.selectedPanelFocusValidBoxShadow):e.hasClass("is-invalid")?e.css("box-shadow",this.options.selectedPanelFocusInvalidBoxShadow):e.css("box-shadow",this.options.selectedPanelFocusBoxShadow).css("border-color",this.options.selectedPanelFocusBorderColor)},t.FocusOut=function(e){e.css("box-shadow","").css("border-color","")},e}(),r={display:"flex","flex-wrap":"wrap","list-style-type":"none"},d={width:"2ch",border:"0",padding:"0",outline:"none","background-color":"transparent"},p={"list-style-type":"none"},c=function(){function e(e,t,s,n,o,i){if("undefined"==typeof a)throw new TypeError("DashboardCode BsMultiSelect require Popper.js (https://popper.js.org)");this.selectElement=e,this.adapter=n,this.window=o,this.onDispose=s,this.$=i,this.options=i.extend({},t),this.container=null,this.selectedPanel=null,this.filterInputItem=null,this.filterInput=null,this.dropDownMenu=null,this.popper=null,this.selectedPanelClick=null,this.documentMouseup=null,this.containerMousedown=null,this.documentMouseup2=null,this.disabled=null,this.filterInputItemOffsetLeft=null,this.skipFocusout=!1,this.hoveredDropDownItem=null,this.hoveredDropDownIndex=null,this.hasDropDownVisible=!1,this.$document=i(o.document),this.$selectElement=i(e),this.init()}var t=e.prototype;return t.updateDropDownPosition=function(e){var t=this.filterInputItem.offsetLeft;(e||this.filterInputItemOffsetLeft!=t)&&(this.popper.update(),this.filterInputItemOffsetLeft=t)},t.hideDropDown=function(){this.dropDownMenu.style.display="none"},t.showDropDown=function(){this.dropDownMenu.style.display="block"},t.resetDropDownMenuHover=function(){null!==this.hoveredDropDownItem&&(this.adapter.HoverOut(this.$(this.hoveredDropDownItem)),this.hoveredDropDownItem=null),this.hoveredDropDownIndex=null},t.filterDropDownMenu=function(){var i=this,a=this.filterInput.value.trim().toLowerCase(),l=0;this.$(this.dropDownMenu).find("LI").each(function(e,t){var s=i.$(t);if(""==a)s.show(),l++;else{var n=s.data("option-text"),o=s.data("option");!o.selected&&!o.hidden&&!o.disabled&&0<=n.indexOf(a)?(s.show(),l++):s.hide()}}),this.hasDropDownVisible=0<l,this.resetDropDownMenuHover()},t.clearFilterInput=function(e){this.filterInput.value&&(this.filterInput.value="",this.input(e))},t.closeDropDown=function(){this.resetDropDownMenuHover(),this.clearFilterInput(!0),this.hideDropDown()},t.appendDropDownItem=function(i){var a=this,e=i.hidden,l=i.text,r=this.$("<LI/>").prop("hidden",e);r.data("option-text",l.toLowerCase()).appendTo(this.dropDownMenu),r.data("option",i);var d=this.adapter.CreateDropDownItemContent(r,i.value,l),t=i.disabled;i.selected&&t?d.disabledStyle(!0):t&&d.disable(t),d.onSelected(function(){r.data("option-toggle")(),a.filterInput.focus()});var s=function e(){if(!i.hidden){var n=a.$("<LI/>"),t=function(e,t,s){i.selected=e,d.select(e),r.data("option-toggle",t),n.data("option-remove",s)},s=function(){d.disabledStyle(!1),d.disable(i.disabled),t(!1,function(){i.disabled||(e(),a.$selectElement.trigger("change"))},null),n.remove(),a.$selectElement.trigger("change")},o=function(){s(),a.closeDropDown()};a.adapter.CreateSelectedItemContent(n,l,o,a.disabled,i.disabled),t(!0,s,o),n.insertBefore(a.filterInputItem)}};r.mouseover(function(){return a.adapter.HoverIn(r)}).mouseout(function(){return a.adapter.HoverOut(r)}),i.selected?s():r.data("option-toggle",function(){i.disabled||s()})},t.keydownArrow=function(e){var t=this.$(this.dropDownMenu).find('LI:not([style*="display: none"]):not(:hidden)').toArray();if(0<t.length){if(this.hasDropDownVisible&&(this.updateDropDownPosition(!0),this.showDropDown()),null===this.hoveredDropDownItem)this.hoveredDropDownIndex=e?0:t.length-1;else if(this.adapter.HoverOut(this.$(this.hoveredDropDownItem)),e){var s=this.hoveredDropDownIndex+1;this.hoveredDropDownIndex=s<t.length?s:0}else{var n=this.hoveredDropDownIndex-1;this.hoveredDropDownIndex=0<=n?n:t.length-1}this.hoveredDropDownItem=t[this.hoveredDropDownIndex],this.adapter.HoverIn(this.$(this.hoveredDropDownItem))}},t.input=function(e){this.filterInput.style.width=1.3*this.filterInput.value.length+2+"ch",this.filterDropDownMenu(),this.hasDropDownVisible?(e&&this.updateDropDownPosition(e),this.showDropDown()):this.hideDropDown()},t.Update=function(){var e=this.$(this.selectedPanel);this.adapter.UpdateIsValid(e),this.UpdateSizeImpl(e),this.UpdateDisabledImpl(this.$(this.container),e)},t.Dispose=function(){this.onDispose&&this.onDispose(),this.$document.unbind("mouseup",this.documentMouseup).unbind("mouseup",this.documentMouseup2),null!==this.adapter&&this.adapter.Dispose(),null!==this.popper&&this.popper.destroy(),null!==this.container&&this.$(this.container).remove()},t.UpdateSize=function(){this.UpdateSizeImpl(this.$(this.selectedPanel))},t.UpdateDisabled=function(){this.UpdateDisabledImpl(this.$(this.container),this.$(this.selectedPanel))},t.UpdateSizeImpl=function(e){this.adapter.UpdateSize&&this.adapter.UpdateSize(e)},t.UpdateDisabledImpl=function(e,t){var s=this.selectElement.disabled;this.disabled!==s&&(s?(this.filterInput.style.display="none",this.adapter.Disable(t),e.unbind("mousedown",this.containerMousedown),this.$document.unbind("mouseup",this.documentMouseup),t.unbind("click",this.selectedPanelClick),this.$document.unbind("mouseup",this.documentMouseup2)):(this.filterInput.style.display="inline-block",this.adapter.Enable(t),e.mousedown(this.containerMousedown),this.$document.mouseup(this.documentMouseup),t.click(this.selectedPanelClick),this.$document.mouseup(this.documentMouseup2)),this.disabled=s)},t.init=function(){var l=this,t=this.$(this.selectElement);t.hide();var e=this.$("<DIV/>");this.container=e.get(0);var s=this.$("<UL/>");s.css(r),this.selectedPanel=s.get(0),s.appendTo(this.container);var n=this.$("<LI/>");this.filterInputItem=n.get(0),n.appendTo(this.selectedPanel);var o=this.$('<INPUT type="search" autocomplete="off">');o.css(d),o.appendTo(this.filterInputItem),this.filterInput=o.get(0);var i=this.$("<UL/>").css({display:"none"}).appendTo(e);this.dropDownMenu=i.get(0),i.css(p),this.documentMouseup=function(){l.skipFocusout=!1},this.containerMousedown=function(){l.skipFocusout=!0},this.documentMouseup2=function(e){l.container===e.target||l.$.contains(l.container,e.target)||l.closeDropDown()},this.selectedPanelClick=function(e){"INPUT"!=e.target.nodeName&&l.$(l.filterInput).val("").focus(),l.hasDropDownVisible&&l.adapter.IsClickToOpenDropdown(e)&&(l.updateDropDownPosition(!0),l.showDropDown())},this.adapter.Init({container:e,selectedPanel:s,filterInputItem:n,filterInput:o,dropDownMenu:i}),e.insertAfter(t),this.popper=new a(this.filterInput,this.dropDownMenu,{placement:"bottom-start",modifiers:{preventOverflow:{enabled:!1},hide:{enabled:!1},flip:{enabled:!1}}}),this.adapter.UpdateIsValid(s),this.UpdateSizeImpl(s),this.UpdateDisabledImpl(e,s),this.$(function(){var e=t.find("OPTION");e.each(function(e,t){l.appendDropDownItem(t)}),l.hasDropDownVisible=0<e.length,l.updateDropDownPosition(!1)}),i.click(function(e){return e.stopPropagation()}),i.mouseover(function(){return l.resetDropDownMenuHover()}),o.focusin(function(){return l.adapter.FocusIn(s)}).focusout(function(){l.skipFocusout||l.adapter.FocusOut(s)}),o.on("keydown",function(e){if((0<=[38,40,13].indexOf(e.which)||9==e.which&&l.filterInput.value)&&e.preventDefault(),38==e.which)l.keydownArrow(!1);else if(40==e.which)null===l.hoveredDropDownItem&&l.hasDropDownVisible&&l.showDropDown(),l.keydownArrow(!0);else if(9==e.which)l.filterInput.value||l.closeDropDown();else if(8==e.which&&!l.filterInput.value){var t=l.$(l.selectedPanel).find("LI:last").prev();if(t.length)t.data("option-remove")();l.updateDropDownPosition(!1)}-1==[38,40,13,9].indexOf(e.which)&&l.resetDropDownMenuHover()}),o.on("keyup",function(e){if(13==e.which||9==e.which)if(l.hoveredDropDownItem){l.$(l.hoveredDropDownItem).data("option-toggle")(),l.closeDropDown()}else{for(var t=l.filterInput.value.trim().toLowerCase(),s=l.dropDownMenu.querySelectorAll("LI"),n=null,o=0;o<s.length;++o){var i=s[o];if(i.textContent.trim().toLowerCase()==t){n=i;break}}if(n){var a=l.$(n);if(!a.data("option").selected)a.data("option-toggle")();l.clearFilterInput(!0)}}else 27==e.which&&l.closeDropDown()}),o.on("input",function(){l.input(!0)})},e}();function u(e,t){e.find("BUTTON").prop("disabled",t)}var h,f,D=function(){function e(e,t,s,n){this.classes=n.extend({},{containerClass:"dashboardcode-bsmultiselect",dropDownMenuClass:"dropdown-menu",dropDownItemClass:"px-2",dropDownItemHoverClass:"text-primary bg-light",selectedPanelClass:"form-control",selectedItemClass:"badge",removeSelectedItemButtonClass:"close",filterInputItemClass:"",filterInputClass:""},s),this.$=n,this.hiddenSelect=e,this.adapter=t,this.bs4LabelDispose=null}var t=e.prototype;return t.HandleLabel=function(e){var t=this.hiddenSelect.id,s=this.$(this.hiddenSelect).closest(".form-group");if(1==s.length){var n=s.find('label[for="'+t+'"]'),o=n.attr("for");if(o==this.hiddenSelect.id){var i=this.classes.containerClass+"-generated-filter-id-"+this.hiddenSelect.id;return e.find("input").attr("id",i),n.attr("for",i),function(){n.attr("for",o)}}}return null},t.Init=function(e){e.container.addClass(this.classes.containerClass),e.selectedPanel.addClass(this.classes.selectedPanelClass),e.dropDownMenu.addClass(this.classes.dropDownMenuClass),e.filterInputItem.addClass(this.classes.filterInputItemClass),e.filterInput.addClass(this.classes.filterInputClass),this.adapter.OnInit&&this.adapter.OnInit(e),this.bs4LabelDispose=this.HandleLabel(e.selectedPanel)},t.Dispose=function(){this.bs4LabelDispose&&this.bs4LabelDispose()},t.CreateDropDownItemContent=function(e,t,s){var n=this.classes.containerClass+"-"+this.hiddenSelect.name.toLowerCase()+"-generated-id-"+t.toLowerCase(),o=this.$('<div class="custom-control custom-checkbox">\n            <input type="checkbox" class="custom-control-input" id="'+n+'">\n            <label class="custom-control-label" for="'+n+'">'+s+"</label>\n        </div>");o.appendTo(e);var i=o.find('INPUT[type="checkbox"]');e.addClass(this.classes.dropDownItemClass);var a=e.get(0),l=o.get(0),r=this.adapter;return{select:function(e){i.prop("checked",e)},disable:function(e){i.prop("disabled",e)},disabledStyle:function(e){r.DisabledStyle(i,e)},onSelected:function(t){i.on("change",t),e.on("click",function(e){e.target!=a&&e.target!=l||t()})}}},t.CreateSelectedItemContent=function(e,t,s,n,o){var i=this.$("<span>"+t+"</span>").appendTo(e);o&&this.adapter.DisableSelectedItemContent(i);var a=this.$('<button aria-label="Close" tabIndex="-1" type="button"><span aria-hidden="true">&times;</span></button>').css("white-space","nowrap").on("click",s).appendTo(e).prop("disabled",n);e.addClass(this.classes.selectedItemClass),a.addClass(this.classes.removeSelectedItemButtonClass),this.adapter.CreateSelectedItemContent&&this.adapter.CreateSelectedItemContent(e,a)},t.IsClickToOpenDropdown=function(e){var t=e.target,s=t.nodeName;return!("BUTTON"==s||"SPAN"==s&&"BUTTON"==t.parentElement.nodeName)},t.UpdateIsValid=function(e){var t=this.$(this.hiddenSelect);t.hasClass("is-valid")&&e.addClass("is-valid"),t.hasClass("is-invalid")&&e.addClass("is-invalid")},t.UpdateSize=function(e){this.adapter.UpdateSize&&this.adapter.UpdateSize(e)},t.HoverIn=function(e){e.addClass(this.classes.dropDownItemHoverClass)},t.HoverOut=function(e){e.removeClass(this.classes.dropDownItemHoverClass)},t.Enable=function(e){this.adapter.Enable(e),u(e,!1)},t.Disable=function(e){this.adapter.Disable(e),u(e,!0)},t.FocusIn=function(e){this.adapter.FocusIn(e)},t.FocusOut=function(e){this.adapter.FocusOut(e)},e}();h=window,function(e,i,a){var t=e.charAt(0),s=t.toLowerCase();if(s==t)throw new TypeError("Plugin name '"+e+"' should be started from upper case char");var n=s+e.slice(1),o=a.fn[n],l="DashboardCode."+e;function r(o){return this.each(function(){var e=a(this),t=e.data(l),s="string"==typeof o;if(!t){if(s&&/Dispose/.test(o))return;t=i(this,"object"==typeof o?o:null,function(){e.removeData(l)}),e.data(l,t)}if(s){var n=o;if("undefined"==typeof t[n])throw new TypeError("No method named '"+n+"'");t[n]()}})}a.fn[n]=r,a.fn[e]=function(){return a(this).data(l)},a.fn[n].noConflict=function(){return a.fn[n]=o,r}}("BsMultiSelect",function(e,t,s){var n=t&&t.useCss?new i(t,f):new l(t,f),o=new D(e,n,t,f);return new c(e,t,s,o,h,f)},f=e)});
//# sourceMappingURL=BsMultiSelect.min.js.map